#LyX 2.3 created this file. For more info see http://www.lyx.org/
\lyxformat 544
\begin_document
\begin_header
\save_transient_properties true
\origin unavailable
\textclass article
\begin_preamble
\usepackage[{textfont=bf},{labelfont=bf},{font=footnotesize}]{caption}
\end_preamble
\use_default_options true
\maintain_unincluded_children false
\language english
\language_package default
\inputencoding auto
\fontencoding global
\font_roman "palatino" "default"
\font_sans "helvet" "default"
\font_typewriter "cmtt" "default"
\font_math "auto" "auto"
\font_default_family sfdefault
\use_non_tex_fonts false
\font_sc false
\font_osf false
\font_sf_scale 100 100
\font_tt_scale 100 100
\use_microtype false
\use_dash_ligatures false
\graphics default
\default_output_format default
\output_sync 0
\bibtex_command default
\index_command default
\paperfontsize 11
\spacing single
\use_hyperref true
\pdf_bookmarks true
\pdf_bookmarksnumbered false
\pdf_bookmarksopen false
\pdf_bookmarksopenlevel 1
\pdf_breaklinks false
\pdf_pdfborder false
\pdf_colorlinks true
\pdf_backref false
\pdf_pdfusetitle true
\pdf_quoted_options "linkcolor=blue, urlcolor=blue"
\papersize letterpaper
\use_geometry true
\use_package amsmath 1
\use_package amssymb 1
\use_package cancel 1
\use_package esint 1
\use_package mathdots 1
\use_package mathtools 1
\use_package mhchem 1
\use_package stackrel 1
\use_package stmaryrd 1
\use_package undertilde 1
\cite_engine basic
\cite_engine_type default
\biblio_style plain
\use_bibtopic false
\use_indices false
\paperorientation portrait
\suppress_date false
\justification true
\use_refstyle 1
\use_minted 0
\boxbgcolor #e4fbff
\index Index
\shortcut idx
\color #008000
\end_index
\leftmargin 3cm
\topmargin 3cm
\rightmargin 3cm
\bottommargin 3cm
\headheight 1cm
\headsep 1cm
\footskip 1cm
\secnumdepth 3
\tocdepth 3
\paragraph_separation skip
\defskip bigskip
\is_math_indent 0
\math_numbering_side default
\quotes_style english
\dynamic_quotes 0
\papercolumns 1
\papersides 1
\paperpagestyle fancy
\bullet 0 0 30 -1
\tracking_changes false
\output_changes false
\html_math_output 0
\html_css_as_file 0
\html_be_strict false
\end_header

\begin_body

\begin_layout Title

\series bold
BETSE 1.0
\end_layout

\begin_layout Standard
\noindent
\align center
\begin_inset Graphics
	filename Figs/FigureFodder/betse_logo_2.png
	lyxscale 40
	width 80text%

\end_inset


\end_layout

\begin_layout Standard
\noindent
\align center

\series bold
\size largest
B
\series default
io
\series bold
E
\series default
lectric 
\series bold
T
\series default
issue 
\series bold
S
\series default
imulation 
\series bold
E
\series default
ngine
\end_layout

\begin_layout Standard
\align center
Command Line Interface Documentation (Version 1.0) 
\end_layout

\begin_layout Standard
\noindent
\align center
Alexis Pietak
\end_layout

\begin_layout Standard
\begin_inset Newpage pagebreak
\end_inset


\end_layout

\begin_layout Standard
\begin_inset CommandInset toc
LatexCommand tableofcontents

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Newpage pagebreak
\end_inset


\end_layout

\begin_layout Section
Preamble
\begin_inset CommandInset label
LatexCommand label
name "sec:Preamble"

\end_inset


\end_layout

\begin_layout Standard
This 
\series bold
B
\series default
io
\series bold
E
\series default
lectric 
\series bold
T
\series default
issue 
\series bold
S
\series default
imulation 
\series bold
E
\series default
ngine (BETSE) facilitates bio-realistic modeling of dynamic electrochemical
 phenomena in gap junction networked cell collectives.
\end_layout

\begin_layout Standard
BETSE is intended to help test hypotheses relating to experimentally-accessible
 electrochemical phenomena important in morphogenesis, regeneration, and
 disease processes such as cancer.
 A special emphasis is placed on how electrochemical phenomena can lead
 to spatio-temporal pattern formation.
\end_layout

\begin_layout Section
Getting Started 
\begin_inset CommandInset label
LatexCommand label
name "sec:System-Requirements"

\end_inset


\end_layout

\begin_layout Subsection
Installation
\end_layout

\begin_layout Standard
BETSE and additional resources are available from the online repository:
 
\end_layout

\begin_layout Standard
\noindent
\align left
\begin_inset space \qquad{}
\end_inset


\begin_inset CommandInset href
LatexCommand href
target "https://gitlab.com/betse/betse"
literal "false"

\end_inset


\end_layout

\begin_layout Standard
BETSE is installable under Linux, OS X, and Windows, as follows:
\end_layout

\begin_layout Standard
1.
 Windows users only: emulate Ubuntu Linux via the Windows Subsystem for
 Linux (WSL).
\end_layout

\begin_layout Standard
\begin_inset space \qquad{}
\end_inset


\begin_inset CommandInset href
LatexCommand href
target "https://docs.microsoft.com/en-us/windows/wsl/install-win10"

\end_inset


\end_layout

\begin_layout Standard
Note that the Windows Subsystem for Linux (WSL) and – hence BETSE itself
 – is only installable under Windows 10.
 Under older Windows versions, BETSE may be installed from a virtual Linux
 guest.
\end_layout

\begin_layout Standard
2.
 Install the Python 3.x (e.g., 3.6) variant of Anaconda:
\end_layout

\begin_layout Standard
\begin_inset space \qquad{}
\end_inset


\begin_inset CommandInset href
LatexCommand href
target "https://www.anaconda.com/distribution/"

\end_inset


\end_layout

\begin_layout Standard
Note: 
\series bold
do not
\series default
 install the Python 2.7 variant of Anaconda.
 BETSE requires Python 3.x.
\end_layout

\begin_layout Standard
If you prefer 
\series bold
not
\series default
 to install Anaconda, BETSE dependencies are also manually installable via
 your platform-specific package manager (e.g., Homebrew on macOS, APT on Ubuntu
 Linux).
 Doing so is non-trivial and, where performed incorrectly, could produce
 a performance-crippled single-core installation of BETSE.
 Anaconda suffers no such issues and is guaranteed to produce a performance-opti
mized multicore installation of BETSE on all supported platforms.
 Anaconda is strongly recommend.
\end_layout

\begin_layout Standard
3.
 Open a Bash terminal.
 To open a POSIX-compatible terminal on your operating system:
\end_layout

\begin_layout Itemize
Under Windows, install Ubuntu Linux via the Windows Subsystem for Linux
 (WSL).
 Open an Ubuntu Linux terminal.
\end_layout

\begin_layout Itemize
Under macOS, open the 
\emph on
Finder
\emph default
.
 Open the 
\emph on
Applications
\emph default
 folder.
 Open the 
\emph on
Utilities
\emph default
 folder.
 Open 
\emph on
Terminal.app
\emph default
.
\end_layout

\begin_layout Itemize
Under Ubuntu Linux, type Ctrl+Alt+t, or find and open 
\emph on
Terminal
\emph default
 in the 
\emph on
Applications
\emph default
 browser under 
\emph on
Utilities
\emph default
.
\end_layout

\begin_layout Standard
4.
 Enable conda-forge at the command line:
\end_layout

\begin_layout Standard
\begin_inset space \qquad{}
\end_inset


\family typewriter
conda config --add channels conda-forge
\end_layout

\begin_layout Standard
5.
 Install BETSE at the command line:
\end_layout

\begin_layout Standard
\begin_inset space \qquad{}
\end_inset


\family typewriter
conda install betse
\end_layout

\begin_layout Standard
This command installs both the most recent stable release of BETSE and all
 mandatory and most optional dependencies of this release.
 Older stable releases are installable in a similar manner (e.g., conda install
 betse=0.7.0 for BETSE 0.7.0).
 All Anaconda packages are kindly hosted by the non-profit conda-forge organizat
ion.
\end_layout

\begin_layout Standard
6.
 Test the BETSE install at the command line:
\end_layout

\begin_layout Standard
\begin_inset space \qquad{}
\end_inset


\family typewriter
betse -v try
\end_layout

\begin_layout Standard
This test command enables verbosity with the -v option, simplifying issue
 reporting in the event of an unexpected error.
 Creates a sample_sim/ subdirectory in the current directory, providing
 the default simulation for this release of BETSE.
 This includes all configuration files and resources referenced by these
 files.
 Runs all simulation phases (e.g., seed, initialization) of this simulation.
\end_layout

\begin_layout Standard
When finished, you may safely either remove the subdirectory 
\emph on
sample_sim
\emph default
 created by betse try, or rename the subdirectory (e.g., to my_sim/) to serve
 as a basis for subsequent simulations.
 Alternatively, you may preserve the subdirectory as is.
\end_layout

\begin_layout Subsection
System Requirements
\end_layout

\begin_layout Standard
Supported operating systems:
\end_layout

\begin_layout Itemize
Mac OS X 10.6 (Snow Leopard) or newer.
\end_layout

\begin_layout Itemize
Linux distributions providing at least 
\emph on
glibc
\emph default
 2.19 or newer.
 This includes, but is not limited to, the following Linux distributions:
 Linux Mint 17.1 (Rebecca) or newer.
 Ubuntu 14.10 (Utopic Unicorn) or newer.
 BETSE currently runs only on 64-bit systems of Linux.
 This is principally due to the increasing obsolescence of 32-bit systems,
 particularly for scientific work.
\end_layout

\begin_layout Itemize
Microsoft Windows XP or newer
\end_layout

\begin_layout Standard
We currently recommend your system have at least 4 GB RAM for BETSE simulations.
\end_layout

\begin_layout Subsection
Tutorial Materials
\end_layout

\begin_layout Standard
BETSE makes a number of sample simulations, including configuration files
 and all materials required to run the simulation, as well as a Developer's
 Tutorial, which explains how BETSE models and modules can be worked with
 from an external Python script.
 These materials and their documentation are available from:
\end_layout

\begin_layout Standard
\begin_inset space \qquad{}
\end_inset


\begin_inset CommandInset href
LatexCommand href
target "https://gitlab.com/betse/betse#tutorials"

\end_inset


\end_layout

\begin_layout Section
What's New in BETSE 1.0?
\end_layout

\begin_layout Subsection
New Features for BETSE 1.0
\end_layout

\begin_layout Itemize
New 
\begin_inset Quotes eld
\end_inset

fast
\begin_inset Quotes erd
\end_inset

 and 
\begin_inset Quotes eld
\end_inset

full
\begin_inset Quotes erd
\end_inset

 BETSE solver types.
 BETSE can now work from an equivalent circuit model formalism (e.g.
 Hodgkin-Huxley based model of bioelectricity) using the new 
\begin_inset Quotes eld
\end_inset

fast
\begin_inset Quotes erd
\end_inset

 solver, or from its original molecular view of bioelectricity using the
 
\begin_inset Quotes eld
\end_inset

full
\begin_inset Quotes erd
\end_inset

 solver type.
 This allows users to tailor their computational perspective to the needs
 of their biophysical problem.
 Details are discussed in Section 
\begin_inset CommandInset ref
LatexCommand ref
reference "sec:Solver-Settings"
plural "false"
caps "false"
noprefix "false"

\end_inset

.
\end_layout

\begin_layout Itemize
Expression profile read-in.
 BETSE can now read in expression levels from a user-defined expression
 configuration file for any custom-defined biomolecule, transporter, or
 channel.
 This allows different levels of a biomolecule/transporter or channel to
 be specified on all of the user-defined tissue profiles of a BETSE model,
 where expression data can be sourced from experiments or experimental databases.
 See Section 
\begin_inset CommandInset ref
LatexCommand ref
reference "sec:Working-with-BIGR"
plural "false"
caps "false"
noprefix "false"

\end_inset

, 
\begin_inset CommandInset ref
LatexCommand ref
reference "subsec:General-Network"
plural "false"
caps "false"
noprefix "false"

\end_inset

 and 
\begin_inset CommandInset ref
LatexCommand ref
reference "subsec:Using-Expression-Profiles"
plural "false"
caps "false"
noprefix "false"

\end_inset

 for details.
\end_layout

\begin_layout Itemize
Single cell simulation.
 BETSE can now simulate a single cell, a feature requested for fast prototyping
 of certain simulations.
 See Section 
\begin_inset CommandInset ref
LatexCommand ref
reference "subsec:Cell-and-Cluster"
plural "false"
caps "false"
noprefix "false"

\end_inset

 for details.
\end_layout

\begin_layout Itemize
SVG model definition.
 In addition to the original bitmap method of defining cell cluster and
 tissue profiles, BETSE also allows use of Scalable Vector Graphics (SVG)
 files to define exact locations of cells in your cluster, where colors
 can be used to specify a tissue profile for each individual cell.
 See Section 
\begin_inset CommandInset ref
LatexCommand ref
reference "subsec:Import-from-SVG"
plural "false"
caps "false"
noprefix "false"

\end_inset

 for details.
\end_layout

\begin_layout Itemize
Mesh refinement.
 Optionally run a refinement algorithm on BETSE meshes to generate more
 computationally robust model geometries.
 See Section 
\begin_inset CommandInset ref
LatexCommand ref
reference "subsec:Mesh-refinement"
plural "false"
caps "false"
noprefix "false"

\end_inset

 for details.
\end_layout

\begin_layout Itemize
Modulator functions.
 Use a customizable modulator function (e.g.
 gradient along the x-axis) to modulate expression of custom biomolecules,
 transporters or pumps.
 See Section 
\begin_inset CommandInset ref
LatexCommand ref
reference "sec:Modulator-Functions"
plural "false"
caps "false"
noprefix "false"

\end_inset

 for details.
\end_layout

\begin_layout Subsection
New Features from BETSE 0.4
\end_layout

\begin_layout Itemize

\series bold
B
\series default
ioelectricity-
\series bold
I
\series default
ntegrated 
\series bold
G
\series default
ene and 
\series bold
R
\series default
eaction (BIGR) networks: define your own regulatory networks with customized
 chemical substances that activate/inhibit each other's native growth rates,
 chemical reactions between substances, transmembrane transporters, and
 ion channel and gap junction regulation.
 
\end_layout

\begin_layout Itemize
Wide range of biorealistic dynamic ion channels sourced from experimentally
 determined Channelpedia models.
\end_layout

\begin_layout Itemize
Deformations of the cell cluster using global electric fields as a force
 and assuming a galvanotactic mechanism.
\end_layout

\begin_layout Itemize
Modulation functions (e.g.
 spatial gradients of substance production or membrane gating) to provide
 an initial symmetry breaking in a simulation.
 
\end_layout

\begin_layout Itemize
Improved simulation speed with lower memory requirements
\end_layout

\begin_layout Itemize
Automated testing of new features (for developers)
\end_layout

\begin_layout Itemize
Online code repository (for developers)
\end_layout

\begin_layout Itemize
Memory and speed profiling (for developers)
\end_layout

\begin_layout Subsection
New Features from BETSE 0.3
\end_layout

\begin_layout Standard
BETSE 0.3 includes minor new features:
\end_layout

\begin_layout Itemize
Restructuring of the config file to assist in proper synchronization between
 the cell cluster (seed), initialization (init), and simulation (sim) runs
 as well as more comprehensive error reporting.
\end_layout

\begin_layout Itemize
A 
\begin_inset Quotes eld
\end_inset

Goldman Equation Calculator
\begin_inset Quotes erd
\end_inset

 to provide a comparison between BETSE's Vmem output and the Goldman Equation
 for each cell and time step (see section 
\begin_inset CommandInset ref
LatexCommand ref
reference "subsec:CompareGoldman"

\end_inset

) 
\end_layout

\begin_layout Itemize
Optional implementation of osmotic pressure into simulation with potential
 induction of fluid flow through gap junction connected cells.
\end_layout

\begin_layout Itemize
A range of new plot types.
\end_layout

\begin_layout Subsection
New Features from BETSE 0.2
\end_layout

\begin_layout Standard
BETSE 0.2 included the four major new features:
\end_layout

\begin_layout Enumerate
Optional use of bitmap images (*.png) to control cell cluster shape and to
 define tissue profiles within the cluster (Figure 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Bitmap-images"

\end_inset

).
 
\end_layout

\begin_layout Enumerate
Ability to define tissue profiles as spatial regions within the cluster
 having optional unique base membrane properties, isolated network connectivity,
 and dynamic elements such as gated ion channels.
 
\end_layout

\begin_layout Enumerate
Optional ability to simulate the extracellular spaces and environment surroundin
g the cell culture, with calculation of variables including: voltage, electric
 fields, currents, and electroosmotic flow.
 
\end_layout

\begin_layout Enumerate
Upgraded model to full Finite Volume Method solver for increased accuracy
 and stability.
 
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename Figs/FigureFodder/bitmap_control_tissue_profiles.png
	lyxscale 50
	width 100text%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Bitmap images (top row) can now be used to control overall shape of the
 cell cluster (clipping) as well as to cut a hole into the model upon initializa
tion (cavity), to define cuts for the model at the onset of a simulation
 (cuts), and to define tissue profiles (nerves, spot, wound) where different
 scheduled interventions and dynamic channels may be assigned.
 
\begin_inset CommandInset label
LatexCommand label
name "fig:Bitmap-images"

\end_inset


\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Section
Basic Commands
\begin_inset CommandInset label
LatexCommand label
name "sec:Basic-Workflow-and"

\end_inset


\end_layout

\begin_layout Subsection
Your First Simulation
\end_layout

\begin_layout Standard
The following describes how BETSE can be run as a command-line-interface
 (CLI) program, meaning it is run by issuing written commands at the Terminal.
 A graphical user interface (GUI), BETSEE (BioElectric Tissue Simulation
 Engine Environment) is under development and can be trialed at:
\end_layout

\begin_layout Standard
\begin_inset space \qquad{}
\end_inset


\begin_inset CommandInset href
LatexCommand href
target "https://gitlab.com/betse/betsee"

\end_inset


\end_layout

\begin_layout Standard
Program settings are specified by a 
\emph on
configuration file
\emph default
 (
\emph on
config file
\emph default
), which is a special kind of text file that you can edit with a program
 such as 
\emph on
Gedit
\emph default
 (Linux), 
\emph on
Textwrangler
\emph default
 (Mac), or 
\emph on
Notepad
\emph default
 (Windows).
 We will get into thorough descriptions of the config file settings in subsequen
t sections of this documentation, but for now let's go through some CLI
 basics.
\end_layout

\begin_layout Standard
To get to the Terminal (command line) on 
\series bold
Mac
\series default
: open 
\emph on
Finder
\emph default
, select 
\emph on
Applications
\emph default
, choose 
\emph on
Utilities
\emph default
 and double click on 
\emph on
Terminal
\emph default
.
 On 
\series bold
Linux
\series default
, simply open the 
\emph on
Menu
\emph default
, select 
\emph on
Accessories
\emph default
, and choose the 
\emph on
Terminal
\emph default
.
 On 
\series bold
Windows
\series default
, first install Ubuntu Linux via the Windows Subsystem for Linux (WSL),
 and then open an Ubuntu Linux terminal.
\end_layout

\begin_layout Standard
Please note, all of the following commands will be structured for a Linux
 and Mac operating system and may need slight adjustment for Windows.
 The most common difference is that Linux and Mac systems use 
\begin_inset Quotes eld
\end_inset

/
\begin_inset Quotes erd
\end_inset

 to specify directory structure (e.g.
 
\begin_inset Quotes eld
\end_inset

Documents/Sims/my_file.png
\begin_inset Quotes erd
\end_inset

) while Windows uses the 
\begin_inset Quotes eld
\end_inset


\backslash

\begin_inset Quotes erd
\end_inset

 (e.g.
 
\begin_inset Quotes eld
\end_inset

Documents
\backslash
Sims
\backslash
my_file.png
\begin_inset Quotes erd
\end_inset

), so if you're working on Windows the following commands will need to be
 adjusted accordingly.
\end_layout

\begin_layout Standard
Once in the terminal, change the directory to one where you'd like to save
 your BETSE simulations and results.
 For example, let's assume that under your 'Home' directory, in 'Documents',
 you've made a new folder called 'BETSE_Sims' .
 To get BETSE to save output in this folder, in the command line type:
\end_layout

\begin_layout Standard
\begin_inset Box Shaded
position "t"
hor_pos "c"
has_inner_box 1
inner_pos "t"
use_parbox 0
use_makebox 0
width "100col%"
special "none"
height "1in"
height_special "totalheight"
thickness "0.4pt"
separation "3pt"
shadowsize "4pt"
framecolor "black"
backgroundcolor "none"
status open

\begin_layout Plain Layout

\family typewriter
cd ~/Applications/BETSE_Sims
\end_layout

\end_inset


\end_layout

\begin_layout Standard
This will set the working directory to 
\begin_inset Quotes eld
\end_inset

BETSE_Sims
\begin_inset Quotes erd
\end_inset

.
\end_layout

\begin_layout Standard
To see if BETSE works at all, once you've changed the directory, run BETSE
 from that directory by simply typing:
\end_layout

\begin_layout Standard
\begin_inset Box Shaded
position "t"
hor_pos "c"
has_inner_box 1
inner_pos "t"
use_parbox 0
use_makebox 0
width "100col%"
special "none"
height "1in"
height_special "totalheight"
thickness "0.4pt"
separation "3pt"
shadowsize "4pt"
framecolor "black"
backgroundcolor "none"
status open

\begin_layout Plain Layout

\family typewriter
betse
\end_layout

\end_inset


\end_layout

\begin_layout Standard
A help message should appear, which goes over the top-level commands for
 BETSE (we will cover these in the following).
\end_layout

\begin_layout Standard
In order to test that the program works on your system and get a hassle-free
 look at what a basic simulation looks like, next type:
\end_layout

\begin_layout Standard
\begin_inset Box Shaded
position "t"
hor_pos "c"
has_inner_box 1
inner_pos "t"
use_parbox 0
use_makebox 0
width "100col%"
special "none"
height "1in"
height_special "totalheight"
thickness "0.4pt"
separation "3pt"
shadowsize "4pt"
framecolor "black"
backgroundcolor "none"
status open

\begin_layout Plain Layout

\family typewriter
betse try
\end_layout

\end_inset


\end_layout

\begin_layout Standard
This 'try' command does everything necessary to run default initialization
 and simulation runs, and saves the resulting simulation files and visualized
 results on your computer in a new folder called 'sample_sim', appearing
 wherever you have copied and run the BETSE executable.
 
\end_layout

\begin_layout Standard
Once the initializations and simulations are running, you should see a continuou
sly updating figure appear, which is plotting the V
\begin_inset script subscript

\begin_layout Plain Layout
mem
\end_layout

\end_inset

 for the cell collective as the simulation is computing.
 Once this has completed, messages will appear in the terminal reporting
 the progress of the simulation.
\end_layout

\begin_layout Standard
After running the 'betse try' command, if you go back to the directory where
 you placed and ran the BETSE executable, you should see a new directory
 called 'sample_sim' inside it.
 Inside of this 'sample_sim' directory, you should find a default configuration
 file called 'sample_sim.yaml', as well as an 'init' directory.
 Inside the 'init' directory is a 'results_a' directory, where you should
 see the saved 'plot while solving' animation as a set of png images.
 
\end_layout

\begin_layout Standard
The default simulation run using the 'betse try' command studies a 100 
\begin_inset Formula $\mu m$
\end_inset

 cluster of cells (approximately 66 cells) on an irregular hexagonal lattice.
 An initialization is run for 1 second, which is followed by a simulation
 run for 1 seconds.
 At the beginning of the simulation run, cells are removed from the bottom
 right region of the cluster by a wounding event.
\end_layout

\begin_layout Standard
If at any time you wish to prematurely end a BETSE event, press the keys
\series bold
 
\emph on
Ctrl c
\series default
\emph default
 to cancel (sometimes 
\series bold
\emph on
Ctrl c
\series default
\emph default
 must be pressed repeatedly until the event cancels).
\end_layout

\begin_layout Subsection
What to do when BETSE Crashes
\end_layout

\begin_layout Standard
When BETSE crashes, please send the config file you were attempting to use,
 as well as the log file for the crash to: alexis.pietak@gmail.com.
 
\end_layout

\begin_layout Standard
When BETSE crashes it will give you a message directing you to where it
 writes BETSE log files on your computer.
\end_layout

\begin_layout Standard
It is important to send both the config and log file to facilitate debugging.
\end_layout

\begin_layout Standard
You are also welcome to post issues (and make feature requests) on BETSE's
 gitlab code repository:
\end_layout

\begin_layout Standard
\noindent
\align center
\begin_inset CommandInset href
LatexCommand href
target "https://gitlab.com/betse/betse/issues"
literal "false"

\end_inset


\end_layout

\begin_layout Subsection
The BETSE Command Line Interface
\end_layout

\begin_layout Standard
The CLI features 10 main commands that you can issue BETSE at the Terminal:
\end_layout

\begin_layout Enumerate
try
\begin_inset space \qquad{}
\end_inset

 
\emph on
seed, init, and sim a sample tissue simulation
\end_layout

\begin_layout Enumerate
info
\begin_inset space \qquad{}
\end_inset

 
\emph on
display instructive information about BETSE and the current system
\end_layout

\begin_layout Enumerate
config
\begin_inset space \qquad{}
\end_inset

 
\emph on
create a new tissue simulation configuration file that also supplies folders
 with default bitmaps and sample network config files 
\end_layout

\begin_layout Enumerate
seed
\begin_inset space \qquad{}
\end_inset

 
\emph on
make the cell cluster from parameters specified in a configuration file
 of your choice
\end_layout

\begin_layout Enumerate
init 
\begin_inset space \qquad{}
\end_inset

 
\emph on
initialize a previously created cell cluster with initialization-specific
 parameters specified in a configuration file of your choice
\end_layout

\begin_layout Enumerate
sim
\begin_inset space \qquad{}
\end_inset

 
\emph on
run the simulation for an initialized cluster using simulation-specific
 parameters specified in a configuration file of your choice
\end_layout

\begin_layout Enumerate
plot
\begin_inset space \qquad{}
\end_inset

 
\emph on
plot previously created cell clusters, initialization or simulation runs
 (uses sub-commands)
\end_layout

\begin_layout Enumerate
sim-grn
\begin_inset space \qquad{}
\end_inset

run a gene regulatory network (GRN) without bioelectrical simulation (for
 speed and comparison)
\end_layout

\begin_layout Enumerate
repl
\begin_inset space \qquad{}
\end_inset

drop into a 
\begin_inset Quotes eld
\end_inset

read-eval-print-loop
\begin_inset Quotes erd
\end_inset

 interactive coding environment (to manipulate data your own way)
\end_layout

\begin_layout Standard
To determine if a BETSE executable is active in a directory and see a high-level
 help message, simply type:
\end_layout

\begin_layout Standard
\begin_inset Box Shaded
position "t"
hor_pos "c"
has_inner_box 1
inner_pos "t"
use_parbox 0
use_makebox 0
width "100col%"
special "none"
height "1in"
height_special "totalheight"
thickness "0.4pt"
separation "3pt"
shadowsize "4pt"
framecolor "black"
backgroundcolor "none"
status open

\begin_layout Plain Layout

\family typewriter
betse
\end_layout

\end_inset


\end_layout

\begin_layout Standard
To check if BETSE will simulate properly on your computer and obtain a straightf
orwards taste of how BETSE works, simply type the 'try' command: 
\end_layout

\begin_layout Standard
\begin_inset Box Shaded
position "t"
hor_pos "c"
has_inner_box 1
inner_pos "t"
use_parbox 0
use_makebox 0
width "100col%"
special "none"
height "1in"
height_special "totalheight"
thickness "0.4pt"
separation "3pt"
shadowsize "4pt"
framecolor "black"
backgroundcolor "none"
status open

\begin_layout Plain Layout

\family typewriter
betse try
\end_layout

\end_inset


\end_layout

\begin_layout Standard
To determine where various files (such as log files) live on your system,
 and to obtain all sorts of meta-data information about BETSE, type the
 'info' command:
\end_layout

\begin_layout Standard
\begin_inset Box Shaded
position "t"
hor_pos "c"
has_inner_box 1
inner_pos "t"
use_parbox 0
use_makebox 0
width "100col%"
special "none"
height "1in"
height_special "totalheight"
thickness "0.4pt"
separation "3pt"
shadowsize "4pt"
framecolor "black"
backgroundcolor "none"
status open

\begin_layout Plain Layout

\family typewriter
betse info
\end_layout

\end_inset


\end_layout

\begin_layout Standard
When you start running simulations in BETSE, it's easiest to make a new
 directory on your system (e.g.
 
\begin_inset Quotes eld
\end_inset

Documents/BETSE_Sims
\begin_inset Quotes erd
\end_inset

).
 Switch into this directory: 
\end_layout

\begin_layout Standard
\begin_inset Box Shaded
position "t"
hor_pos "c"
has_inner_box 1
inner_pos "t"
use_parbox 0
use_makebox 0
width "100col%"
special "none"
height "1in"
height_special "totalheight"
thickness "0.4pt"
separation "3pt"
shadowsize "4pt"
framecolor "black"
backgroundcolor "none"
status open

\begin_layout Plain Layout

\family typewriter
cd ~/Documents/BETSE_Sims
\end_layout

\end_inset


\end_layout

\begin_layout Standard
Then create a default configuration file in that directory by using BETSE's
 
\series bold
\emph on
config
\series default
\emph default
 command along with the name of the new configuration file you'd like created:
\end_layout

\begin_layout Standard
\begin_inset Box Shaded
position "t"
hor_pos "c"
has_inner_box 1
inner_pos "t"
use_parbox 0
use_makebox 0
width "100col%"
special "none"
height "1in"
height_special "totalheight"
thickness "0.4pt"
separation "3pt"
shadowsize "4pt"
framecolor "black"
backgroundcolor "none"
status open

\begin_layout Plain Layout

\family typewriter
betse config test_1.yaml
\end_layout

\end_inset


\end_layout

\begin_layout Standard
This 
\series bold
\emph on
config
\series default
\emph default
 command will create a file called 'test_1.yaml' in the directory 
\begin_inset Quotes eld
\end_inset

Home/Documents/BETSE_Sims
\begin_inset Quotes erd
\end_inset

.
 Of course, you can specify whatever directory and filename you wish for
 the config file, but we'll remain consistent with the location and filename
 of a configuration file at the 
\begin_inset Quotes eld
\end_inset

~/Documents/BETSE_Sims/test_1.yaml
\begin_inset Quotes erd
\end_inset

 path for this example.
\end_layout

\begin_layout Standard
To change settings of the cell cluster, initialization, and simulation,
 you'll need to locate the 'test_1.yaml' on your system, open it in a text
 editor, and make the desired changes.
 Please see the remainder of this documentation for information on how to
 change features of the config file.
 
\end_layout

\begin_layout Standard
To continue to run a simulation, the cell cluster and (optionally) environmental
 spaces grids and other basic information must be set up for computation.
 To do this, while still in the directory that you want to save simulation
 in, and with the outcome determined by settings in the configuration file
 that is specified, use the BETSE
\series bold
\emph on
 seed
\series default
\emph default
 command:
\end_layout

\begin_layout Standard
\begin_inset Box Shaded
position "t"
hor_pos "c"
has_inner_box 1
inner_pos "t"
use_parbox 0
use_makebox 0
width "100col%"
special "none"
height "1in"
height_special "totalheight"
thickness "0.4pt"
separation "3pt"
shadowsize "4pt"
framecolor "black"
backgroundcolor "none"
status open

\begin_layout Plain Layout

\family typewriter
betse seed test_1.yaml
\end_layout

\end_inset


\end_layout

\begin_layout Standard
After a 
\begin_inset Quotes eld
\end_inset

seed
\begin_inset Quotes erd
\end_inset

 has been successfully run, BETSE will write a file to the relative directory
 specified under 'init file saving', 'worldfile' of your config file (in
 this case the test_1.yaml file).
 This is referred to as the 
\emph on
world file
\emph default
 and has the suffix *.betse.
 
\end_layout

\begin_layout Standard
To run an initialization using a config file of your choice and a cell cluster
 previously seeded, use the 
\series bold
\emph on
init
\series default
\emph default
 command, specifying the filename of the config file controlling the scenario
 you want to run:
\end_layout

\begin_layout Standard
\begin_inset Box Shaded
position "t"
hor_pos "c"
has_inner_box 1
inner_pos "t"
use_parbox 0
use_makebox 0
width "100col%"
special "none"
height "1in"
height_special "totalheight"
thickness "0.4pt"
separation "3pt"
shadowsize "4pt"
framecolor "black"
backgroundcolor "none"
status open

\begin_layout Plain Layout

\family typewriter
betse init test_1.yaml
\end_layout

\end_inset


\end_layout

\begin_layout Standard
After an 'init' has been successfully run, BETSE will write a file to the
 relative directory specified under 'init file saving' of your config file.
 This is referred to as the 
\emph on
init file
\emph default
 and has the suffix *.betse.
 The purpose of the init is to generate a cluster that is at steady state.
 As such, none of the dynamic features, such as user-specified interventions,
 will be active during the init.
 
\end_layout

\begin_layout Standard
After creating the cell cluster and running the initialization, use the
 
\series bold
\emph on
sim
\series default
\emph default
 command, specifying filename of the config file controlling the scenario
 you want to simulate.
 If a world or initialization file aren't found under the path and filename
 listed under 'Initialization Settings' section of the config file, BETSE
 will automatically seed a cell cluster and/or do an initialization before
 getting to the simulation run:
\end_layout

\begin_layout Standard
\begin_inset Box Shaded
position "t"
hor_pos "c"
has_inner_box 1
inner_pos "t"
use_parbox 0
use_makebox 0
width "100col%"
special "none"
height "1in"
height_special "totalheight"
thickness "0.4pt"
separation "3pt"
shadowsize "4pt"
framecolor "black"
backgroundcolor "none"
status open

\begin_layout Plain Layout

\family typewriter
betse sim test_1.yaml
\end_layout

\end_inset


\end_layout

\begin_layout Standard
After a 'sim' has been successfully run, BETSE will write a file to the
 relative directory specified under 'sim file saving' of your config file.
 This is referred to as the sim file and has the suffix *.betse.
 If you are using a compression algorithm, the suffix may have an additional
 term indicating the type of compression (e.g.
 *.betse.gz)
\end_layout

\begin_layout Standard
After creating a cell cluster (seed), running an initialization (init),
 or completing a full simulation (sim), you can load, plot, and save the
 stored data from the world, init and sim files that BETSE created.
 It's possible to change settings in the 
\emph on
Results
\emph default
 section of the configuration file to alter the appearance and type of plots
 that are created with the plot command.
 To plot a previously created cell clusters, initializations, or simulations
 use the 'plot' command with one of three subcommands: 
\end_layout

\begin_layout Standard
To load and plot the cell cluster:
\end_layout

\begin_layout Standard
\begin_inset Box Shaded
position "t"
hor_pos "c"
has_inner_box 1
inner_pos "t"
use_parbox 0
use_makebox 0
width "100col%"
special "none"
height "1in"
height_special "totalheight"
thickness "0.4pt"
separation "3pt"
shadowsize "4pt"
framecolor "black"
backgroundcolor "none"
status open

\begin_layout Plain Layout

\family typewriter
betse plot seed 
\family default
test_1.yaml
\end_layout

\end_inset


\end_layout

\begin_layout Standard
To load and plot an existing initialization:
\end_layout

\begin_layout Standard
\begin_inset Box Shaded
position "t"
hor_pos "c"
has_inner_box 1
inner_pos "t"
use_parbox 0
use_makebox 0
width "100col%"
special "none"
height "1in"
height_special "totalheight"
thickness "0.4pt"
separation "3pt"
shadowsize "4pt"
framecolor "black"
backgroundcolor "none"
status open

\begin_layout Plain Layout

\family typewriter
betse plot init 
\family default
test_1.yaml
\end_layout

\end_inset


\end_layout

\begin_layout Standard
And to load and plot a previously run simulation:
\end_layout

\begin_layout Standard
\begin_inset Box Shaded
position "t"
hor_pos "c"
has_inner_box 1
inner_pos "t"
use_parbox 0
use_makebox 0
width "100col%"
special "none"
height "1in"
height_special "totalheight"
thickness "0.4pt"
separation "3pt"
shadowsize "4pt"
framecolor "black"
backgroundcolor "none"
status collapsed

\begin_layout Plain Layout

\family typewriter
betse plot sim 
\family default
test_1.yaml
\end_layout

\end_inset


\end_layout

\begin_layout Standard
The config file tells the computer where to save all files, and these same
 paths in the config file tell the computer where to find files to load
 and plot.
 Plotting results are saved to folders specified under 
\begin_inset Quotes eld
\end_inset

results file saving
\begin_inset Quotes erd
\end_inset

 of the config file.
 
\end_layout

\begin_layout Standard
Help messages at the Terminal can be accessed for commands by adding '-h'
 or '–help' after the command name, for example:
\end_layout

\begin_layout Standard
\begin_inset Box Shaded
position "t"
hor_pos "c"
has_inner_box 1
inner_pos "t"
use_parbox 0
use_makebox 0
width "100col%"
special "none"
height "1in"
height_special "totalheight"
thickness "0.4pt"
separation "3pt"
shadowsize "4pt"
framecolor "black"
backgroundcolor "none"
status open

\begin_layout Plain Layout

\family typewriter
betse sim --help
\end_layout

\end_inset


\end_layout

\begin_layout Standard
Note, at any time if you wish to abort an initialization or simulation,
 at the Terminal simply press 
\series bold
ctrl c
\series default
 (on Mac you may need to press
\series bold
 ctrl c
\series default
 many times to get it to kill the program).
\end_layout

\begin_layout Subsubsection*
Additional commands
\end_layout

\begin_layout Standard
The command:
\end_layout

\begin_layout Standard
\begin_inset Box Shaded
position "t"
hor_pos "c"
has_inner_box 1
inner_pos "t"
use_parbox 0
use_makebox 0
width "100col%"
special "none"
height "1in"
height_special "totalheight"
thickness "0.4pt"
separation "3pt"
shadowsize "4pt"
framecolor "black"
backgroundcolor "none"
status collapsed

\begin_layout Plain Layout

\family typewriter
betse sim-grn 
\family default
test_1.yaml
\end_layout

\end_inset


\end_layout

\begin_layout Standard
Lets you test-drive a user-defined gene regulatory network (GRN) using an
 additional configuration file specified under the 
\begin_inset Quotes eld
\end_inset

Gene Regulatory Network
\begin_inset Quotes erd
\end_inset

 banner of the main config file, without involving bioelectricity (see Section
 
\begin_inset CommandInset ref
LatexCommand ref
reference "sec:Working-with-BIGR"
plural "false"
caps "false"
noprefix "false"

\end_inset

 for details).
 This is intended for speed, and to compare the output to the traditional
 non-bioelectricity influenced scenario for a particular GRN.
\end_layout

\begin_layout Standard
The results of the GRN simulation can be plotted using:
\end_layout

\begin_layout Standard
\begin_inset Box Shaded
position "t"
hor_pos "c"
has_inner_box 1
inner_pos "t"
use_parbox 0
use_makebox 0
width "100col%"
special "none"
height "1in"
height_special "totalheight"
thickness "0.4pt"
separation "3pt"
shadowsize "4pt"
framecolor "black"
backgroundcolor "none"
status open

\begin_layout Plain Layout

\family typewriter
betse plot sim-grn 
\family default
test_1.yaml
\end_layout

\end_inset


\end_layout

\begin_layout Standard
The command:
\end_layout

\begin_layout Standard
\begin_inset Box Shaded
position "t"
hor_pos "c"
has_inner_box 1
inner_pos "t"
use_parbox 0
use_makebox 0
width "100col%"
special "none"
height "1in"
height_special "totalheight"
thickness "0.4pt"
separation "3pt"
shadowsize "4pt"
framecolor "black"
backgroundcolor "none"
status open

\begin_layout Plain Layout

\family typewriter
betse repl
\end_layout

\end_inset


\end_layout

\begin_layout Standard
Allows you to use an interactive code environment at the command line (similar
 to matlab), which enables you to work with BETSE data structures.
\end_layout

\begin_layout Section
The Configuration File
\begin_inset CommandInset label
LatexCommand label
name "sec:The-Configuration-File"

\end_inset


\end_layout

\begin_layout Standard
The configuration file allows you to have control over what happens during
 BETSE cell cluster creation, initializations, simulations, and results
 export and visualization.
\end_layout

\begin_layout Standard
In order to change settings and variables in BETSE, you simply open up a
 configuration file in a text editor and set the values to what you wish.
 You then run the BETSE program with that configuration file's path and
 name specified at the command line (see Section 
\begin_inset CommandInset ref
LatexCommand ref
reference "sec:Basic-Workflow-and"

\end_inset

 ).
 
\end_layout

\begin_layout Subsection
How to Make Default Config Files
\end_layout

\begin_layout Standard
To create a default configuration file that you can edit further, you have
 two command-line choices: 
\end_layout

\begin_layout Standard
After switching into the directory where you want to save BETSE output,
 for example:
\end_layout

\begin_layout Standard
\begin_inset Box Shaded
position "t"
hor_pos "c"
has_inner_box 1
inner_pos "t"
use_parbox 0
use_makebox 0
width "100col%"
special "none"
height "1in"
height_special "totalheight"
thickness "0.4pt"
separation "3pt"
shadowsize "4pt"
framecolor "black"
backgroundcolor "none"
status open

\begin_layout Plain Layout
cd ~/Documents/BETSE_output
\end_layout

\end_inset


\end_layout

\begin_layout Standard
you could run the 
\series bold
\emph on
try
\series default
\emph default
 command:
\end_layout

\begin_layout Standard
\begin_inset Box Shaded
position "t"
hor_pos "c"
has_inner_box 1
inner_pos "t"
use_parbox 0
use_makebox 0
width "100col%"
special "none"
height "1in"
height_special "totalheight"
thickness "0.4pt"
separation "3pt"
shadowsize "4pt"
framecolor "black"
backgroundcolor "none"
status open

\begin_layout Plain Layout

\family typewriter
betse try
\end_layout

\end_inset


\end_layout

\begin_layout Standard
...in which case you'll find a 'sample_sim.yaml' file inside a folder called
 'sample_sim' in the directory where you're running BETSE (e.g.
 
\begin_inset Quotes eld
\end_inset

Documents/BETSE_output/sample_sim/sample_sim.yaml
\begin_inset Quotes erd
\end_inset

).
 You can change the name of the .yaml file and edit it as you wish, but the
 config filename should always end with 
\begin_inset Quotes eld
\end_inset

.yaml
\begin_inset Quotes erd
\end_inset

.
 
\end_layout

\begin_layout Standard
Or, you could run simply the 
\series bold
\emph on
config
\series default
\emph default
 command:
\end_layout

\begin_layout Standard
\begin_inset Box Shaded
position "t"
hor_pos "c"
has_inner_box 1
inner_pos "t"
use_parbox 0
use_makebox 0
width "100col%"
special "none"
height "1in"
height_special "totalheight"
thickness "0.4pt"
separation "3pt"
shadowsize "4pt"
framecolor "black"
backgroundcolor "none"
status open

\begin_layout Plain Layout
betse config my_new_config.yaml
\end_layout

\end_inset


\end_layout

\begin_layout Standard
...in which case you'll find a 'my_config_file.yaml' file created inside a folder
 called 'bio_sims' in directory where you're running BETSE (e.g.
 
\begin_inset Quotes eld
\end_inset

Documents/BETSE_output/my_new_config.yaml
\begin_inset Quotes erd
\end_inset

).
 You can obviously change the directory and filename to whatever you wish,
 but the config filename should end with 
\begin_inset Quotes eld
\end_inset

.yaml
\begin_inset Quotes erd
\end_inset

.
\end_layout

\begin_layout Standard
You can also just copy, paste, and rename any BETSE config file into a directory
 of your choice using the graphical system navigator of your operating system
 (e.g.
 
\emph on
Nautilus
\emph default
 on Linux or 
\emph on
Finder
\emph default
 on Mac).
 
\end_layout

\begin_layout Subsection
Basic Structure of Config Files
\end_layout

\begin_layout Standard
Each BETSE config file has 20 sections:
\end_layout

\begin_layout Enumerate

\series bold
Solver Settings 
\series default
\emph on
(specify the type of BETSE simulator to run)
\end_layout

\begin_layout Enumerate

\series bold
File Handling
\series default
 
\emph on
(specify paths for saving/loading cell cluster, initialization runs, simulation
 runs, and results output)
\end_layout

\begin_layout Enumerate

\series bold
Initialization Settings
\series default
 
\emph on
(settings specific to the initialization run)
\end_layout

\begin_layout Enumerate

\series bold
Simulation Settings
\series default
 
\emph on
(settings specific to the simulation run)
\end_layout

\begin_layout Enumerate

\series bold
General Options
\series default
 
\emph on
(specify main options like what ions you want to include – these parameters
 are fixed to the initialization run and propagated through subsequent simulatio
ns loading that initialization and can only be modified at the time of running
 betse 
\series bold
\emph default
seed
\series default
\emph on
.)
\end_layout

\begin_layout Enumerate

\series bold
World Options
\series default
 
\emph on
(specify aspects of the cell, cluster, and gap junction network – these
 parameters are fixed to the initialization run and propagated through subsequen
t simulations loading that initialization; they can only be modified at
 the time of running betse 
\series bold
\emph default
seed
\series default
\emph on
.)
\end_layout

\begin_layout Enumerate

\series bold
Tissue Profile Designation
\series default
 
\emph on
(tell BETSE what bitmaps define the cluster and tissue regions, specify
 properties of tissue profiles, specify global boundary profiles)
\end_layout

\begin_layout Enumerate

\series bold
Targeted Interventions
\series default
 
\emph on
(schedule events, such as changing membrane permeabilities, that apply to
 specify tissue profiles)
\end_layout

\begin_layout Enumerate

\series bold
Modulator Function Properties 
\series default
\emph on
(edit properties of functions that can be used to modulate biomaterial,
 transporter, or channel expression levels)
\end_layout

\begin_layout Enumerate

\series bold
Global Interventions
\series default
 
\emph on
(schedule events applying to the whole environment or cluster, such as the
 addition or pharmacological agents or blocking gap junctions)
\end_layout

\begin_layout Enumerate

\series bold
General Network 
\series default
\emph on
(define a biomolecular regulatory network in the main configuration file;
 this section turns it on/off and allows you to run an optimization)
\emph default
 
\end_layout

\begin_layout Enumerate

\series bold
Custom Biomolecules 
\series default
(define your own chemical substances that appear in your regulatory network)
\end_layout

\begin_layout Enumerate

\series bold
Custom Chemical Reactions 
\series default
(define chemical reactions between substances of your regulatory network,
 which may have rates that are co-regulated by substances of your regulatory
 network)
\end_layout

\begin_layout Enumerate

\series bold
Custom Channels 
\series default
(define your own ion channels, which may adopt voltage gating properties
 and be co-regulated by substances of your regulatory network)
\end_layout

\begin_layout Enumerate

\series bold
Custom Transporters 
\series default
(define your own transmembrane transporters, which may be co-regulated by
 substances of your regulatory network and be accompanied by a chemical
 reaction occurring only in the cytoplasm)
\end_layout

\begin_layout Enumerate

\series bold
Custom Modulators 
\series default
(allow substances of your general regulatory network to modulate the behavior
 of core BETSE entities, such as gap junctions)
\end_layout

\begin_layout Enumerate

\series bold
Gene Regulatory Network 
\series default
\emph on
(run a user-defined regulatory network that is read from a separate config
 file specified under this main config file banner)
\end_layout

\begin_layout Enumerate

\series bold
Variable Settings
\series default
 (general and world options that can be changed between seed, init and sim
 runs without causing synchronization issues)
\end_layout

\begin_layout Enumerate

\series bold
Results
\series default
 
\emph on
(specify what plots, animations and exports to include, as well as their
 features)
\end_layout

\begin_layout Enumerate

\series bold
Internal Use Only
\series default
 
\emph on
(change variables relating to the inner-workings of the simulation)
\end_layout

\begin_layout Subsection
Keeping BETSE Output Files Synchronized
\end_layout

\begin_layout Standard
BETSE creates three kinds of program-related output files: 1) a world file
 created after the 
\series bold
\emph on
seed
\series default
\emph default
 command is successfully run, which stores data needed to set up the cell
 cluster and its environment; 2) an init file created after the 
\series bold
\emph on
init
\series default
\emph default
 command is successfully run, which stores all the data relevant to the
 initialization run on the cell cluster; and 3) a sim file created when
 the 
\series bold
\emph on
sim
\series default
\emph default
 command is successfully run, which stores all of the data relating to the
 simulation run output.
 
\end_layout

\begin_layout Standard
A potential trouble spot in BETSE exists because 
\emph on
only
\emph default
 some of the parameters in the config file can be changed without destroying
 important relationships between the seed, init and sim files.
 For example, when settings under the 
\emph on
Tissue Profile Definition
\emph default
, 
\emph on
Targeted Interventions
\emph default
, 
\emph on
Dynamic Ion Channels
\emph default
, 
\emph on
Global Interventions
\emph default
, 
\emph on
Variable Settings
\emph default
, 
\emph on
Results
\emph default
, and 
\emph on
Internal Use Only
\emph default
 sections of the config file are changed when trying to run a sim after
 already running a seed and an init, the sim can update the settings without
 issue and incorporate them into the simulation or plotting request.
 There are no concerns about changing parameter values for these sections
 of the config file.
\end_layout

\begin_layout Standard
However, if settings under 
\emph on
General Options
\emph default
 and 
\emph on
World Options
\emph default
 are changed after running a seed or an init, it's necessary to run a fresh
 
\series bold
\emph on
seed
\series default
\emph default
 and a fresh 
\series bold
\emph on
init
\series default
\emph default
 before moving on to do the 
\series bold
\emph on
sim
\series default
\emph default
.
 This is because the settings under these sections define key data architectures
, and if the config file changes, it breaks the synchronization between
 BETSE's three output file types.
 To ensure that these important sections are synchronized, BETSE will throw
 an error and tell you to go run a fresh seed and init if it detects desynchroni
zation between parameters in a config file you're trying to run and the
 original config file used to do the seed.
 
\end_layout

\begin_layout Standard
The ability to change parameters is listed in the config file under the
 header of each section as a 
\begin_inset Quotes eld
\end_inset

File sync warning
\begin_inset Quotes erd
\end_inset

.
 For reference, here is a summary of the config file sections listing whether
 parameters must remain fixed after running a seed and/or an init (headings
 in boldface type), or if parameters in these sections can be changed at
 any time: 
\end_layout

\begin_layout Enumerate
Solver Settings 
\emph on
(can be changed at any point, though instability may result)
\end_layout

\begin_layout Enumerate
File Handling 
\emph on
(can be carefully changed at any point as long as the correct load files
 and directories are maintained)
\end_layout

\begin_layout Enumerate
Initialization Settings 
\emph on
(can be changed at any point; relevant only when running an init)
\end_layout

\begin_layout Enumerate
Simulation Settings 
\emph on
(can be changed at any point; relevant only when running an init)
\end_layout

\begin_layout Enumerate

\series bold
\emph on
General Options
\series default
\emph default
 
\emph on
(can be specified only when running a seed and must stay fixed after that
 or a new seed run if changed)
\end_layout

\begin_layout Enumerate

\series bold
World Options
\series default
 
\emph on
(can be specified only when running a seed and must stay fixed after that
 or a new seed run if changed)
\end_layout

\begin_layout Enumerate
Tissue Profile Designation 
\emph on
(can be changed at any time)
\end_layout

\begin_layout Enumerate
Targeted Interventions 
\emph on
(can be changed at any point; relevant only when running a sim) 
\end_layout

\begin_layout Enumerate
Modulator Function Properties 
\emph on
(can be changed at any point)
\end_layout

\begin_layout Enumerate
Global Interventions 
\emph on
(can be changed at any point; relevant only when running a sim)
\end_layout

\begin_layout Enumerate
General Network 
\emph on
(can be changed at any time)
\end_layout

\begin_layout Enumerate
Custom Biomolecules 
\emph on
(can be changed at any time)
\end_layout

\begin_layout Enumerate
Custom Chemical Reactions 
\emph on
(can be changed at any time)
\end_layout

\begin_layout Enumerate
Custom Channels 
\emph on
(can be changed at any time)
\end_layout

\begin_layout Enumerate
Custom Transporters 
\emph on
(can be changed at any time)
\end_layout

\begin_layout Enumerate
Custom Modulators 
\emph on
(can be changed at any time)
\end_layout

\begin_layout Enumerate
Gene Regulatory Network 
\emph on
(can be changed at any time)
\end_layout

\begin_layout Enumerate
Variable Settings (
\emph on
can be changed at any point
\emph default
)
\end_layout

\begin_layout Enumerate
Results 
\emph on
(can be changed at any point; relevant only when plotting)
\end_layout

\begin_layout Enumerate
Internal Use Only 
\emph on
(can be changed at any point)
\end_layout

\begin_layout Subsection
Config Files and YAML
\end_layout

\begin_layout Standard
The configuration file is written in a computer language called 
\emph on
YAML
\emph default
, which is fairly easy for both humans and the Python BETSE program to read.
 However, because the configuration file is a little computer script, when
 editing it you have to be careful not change things that will make it non-reada
ble by the BETSE program.
 For example, it is essential that the line indentations (tabs) are maintained
 in their current order, and that only variable assignments are changed.
 Variable names must not be changed.
 In the file, comments intended only for human users, and that are not read
 by the BETSE program, are prefixed by a "#" and may be edited as you wish.
 Likewise, feel free to add in new # prefixed comment lines to any BETSE
 config file.
 
\end_layout

\begin_layout Standard
For more information on the 
\emph on
YAML
\emph default
 language, please see:
\end_layout

\begin_layout Standard
\noindent
\align left
\begin_inset space \qquad{}
\end_inset


\begin_inset CommandInset href
LatexCommand href
target "https://en.wikipedia.org/wiki/YAML"
literal "false"

\end_inset


\end_layout

\begin_layout Section
Solver Settings
\begin_inset CommandInset label
LatexCommand label
name "sec:Solver-Settings"

\end_inset


\end_layout

\begin_layout Standard
BETSE 1.0 includes the option to use entirely different computational methods
 to simulate bioelectricity, which can be employed using the 'type' field
 of the new 'solver options' panel of the main config (Figure 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:SolverSettings"
plural "false"
caps "false"
noprefix "false"

\end_inset

).
 The 
\begin_inset Quotes eld
\end_inset

full
\begin_inset Quotes erd
\end_inset

 solver type simulates bioelectricity from a molecular perspective using
 the GHK-flux equation to describe transmembrane ion fluxes and updates
 concentrations inside (and optionally outside) of cells.
 The 
\begin_inset Quotes eld
\end_inset

fast
\begin_inset Quotes erd
\end_inset

 solver uses the equivalent circuit model of bioelectricity (e.g.
 Hodgkin-Huxley formalism) to calculate ion fluxes using reversal potentials
 for each ion, and does not update concentrations inside and out of cells.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename Figs/BETSE_config_pics/0_SolverSettings.png
	lyxscale 80
	width 100text%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
The 
\emph on
Solver Settings 
\emph default
section of a BETSE configuration file.
\begin_inset CommandInset label
LatexCommand label
name "fig:SolverSettings"

\end_inset


\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Section
File Handling
\begin_inset CommandInset label
LatexCommand label
name "subsec:Defining-Save/Load-Paths"

\end_inset


\end_layout

\begin_layout Subsection
Specifying File Save/Load Directories and Filenames
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename /home/pietakio/Documents/BETSE_Documentation/Documentation4/Figs/BETSE_config_pics/1_FileHandling.png
	lyxscale 80
	width 100text%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
The 
\emph on
File Handling
\emph default
 section of a BETSE configuration file.
\begin_inset CommandInset label
LatexCommand label
name "fig:The-File-Handling"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Standard
Figure 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:The-File-Handling"

\end_inset

 shows the 
\emph on
File Handling
\emph default
 section of the configuration file, where you can specify the directory
 and file names for the init (init file saving), cell cluster (worldfile),
 sim (sim file saving) and any automatically saved and exported results
 (results file saving).
 Initializations and simulations in BETSE automatically save all of their
 data as a '.betse' binary file that can be re-read and plotted afterwards.
 These files can be optionally compressed in size by adding a 
\begin_inset Quotes eld
\end_inset

.gz
\begin_inset Quotes erd
\end_inset

, 
\begin_inset Quotes eld
\end_inset

.bz2
\begin_inset Quotes erd
\end_inset

, or 
\begin_inset Quotes eld
\end_inset

.x2' suffix to the file save/load name (see Figure 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:The-File-Handling"

\end_inset

).
 
\end_layout

\begin_layout Standard
There is also the option to automatically save all the plots, animations,
 and raw data exports for a simulation when a plot command is run.
 The places where these auto-saves (and corresponding auto-loads) happen
 are also defined in the BETSE configuration file.
 Figure 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:The-File-Handling"

\end_inset

 shows the 
\begin_inset Quotes eld
\end_inset

results file saving
\begin_inset Quotes erd
\end_inset

 tab, where exported results will be saved to the init and sim directories
 for init and sim phases, respectively.
 
\end_layout

\begin_layout Standard
For portability, files and directories are configured as paths that are
 
\emph on
relative
\emph default
 to the location of the config file, rather than as 
\emph on
absolute
\emph default
 pathnames.
 For example, instead of defining the save/load path of the simulation as:
\end_layout

\begin_layout Standard
\begin_inset Quotes eld
\end_inset

/Documents/bio_sims/my_sim/sim_52.betse
\begin_inset Quotes erd
\end_inset


\end_layout

\begin_layout Standard
If the config file is located within a folder called 
\begin_inset Quotes eld
\end_inset

bio_sims
\begin_inset Quotes erd
\end_inset

 , then under 
\begin_inset Quotes eld
\end_inset

sim file saving
\begin_inset Quotes erd
\end_inset

 all you need to specify is a directory name of 
\begin_inset Quotes eld
\end_inset

my_sim
\begin_inset Quotes erd
\end_inset

 and a file of: 
\begin_inset Quotes eld
\end_inset

sim_init.betse
\begin_inset Quotes erd
\end_inset

 to achieve the desired result of saving sim_52.betse under the above directory
 structure.
 Note, if 
\begin_inset Quotes eld
\end_inset

my_sim
\begin_inset Quotes erd
\end_inset

 folder does not exist, BETSE will automatically create this for you.
\end_layout

\begin_layout Standard
This usage of relative paths allows any folders containing your simulations
 and results to be safely moved to other locations or computers, without
 breaking the functionality of existing simulations.
 
\end_layout

\begin_layout Subsection
Using a Simulation as an Initialization
\end_layout

\begin_layout Standard
The difference between an init and sim is that an init does not implement
 any of the global or targeted interventions or dynamic ion channels, yet
 sometimes it's desirable to set the scene of a simulation with dynamics
 present.
 While the typical course of events is to do an initialization (init) first,
 which saves a *.betse binary to the init directory and filename, it's possible
 to seed a world, do an init, do a sim (sim a), and to then load the sim
 as the initialization to another sim (sim b).
 To do this, after running the first sim (sim a), simply use the sim file
 created as an initialization by specifying the path and filename of sim
 a in the 
\begin_inset Quotes eld
\end_inset

init file saving
\begin_inset Quotes erd
\end_inset

 fields of the config file, and supply a new directory and filename to save
 the upcoming sim (sim b) in the 
\begin_inset Quotes eld
\end_inset

sim file saving
\begin_inset Quotes erd
\end_inset

 fields.
 Make sure you move the sim_a betse file to the right place.
 
\end_layout

\begin_layout Section
Init and Sim Settings
\begin_inset CommandInset label
LatexCommand label
name "sec:Initialization-Settings"

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename /home/pietakio/Documents/BETSE_Documentation/Documentation4/Figs/BETSE_config_pics/2_Init-Sim-Settings.png
	lyxscale 50
	width 100text%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
The 
\emph on
Initialization Settings and Simulation Settings
\emph default
 sections of a BETSE configuration file.
\begin_inset CommandInset label
LatexCommand label
name "fig:The-Initialization-Settings"

\end_inset


\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Each simulation that is run in BETSE requires an initialization run.
 The initialization run creates the cell cluster and performs a simulation
 without any of the features listed in the 
\emph on
Global Interventions, Targeted Interventions
\emph default
 or 
\emph on
Dynamic Channels
\emph default
 sections being active, which allows the modeled bioelectric system to be
 in, or closer to, cell resting V
\begin_inset script subscript

\begin_layout Plain Layout
mem
\end_layout

\end_inset

and steady-state.
 Whenever you try to run a simulation in BETSE using the betse 
\series bold
\emph on
sim
\series default
\emph default
 command, it will check to see if you have a *.betse initialization file
 saved to the directory and filename specified under the 
\begin_inset Quotes eld
\end_inset

init file saving
\begin_inset Quotes erd
\end_inset

 region of the config file.
 If not, it will go ahead and run an initialization first (unless you change
 the 
\emph on
Simulation Settings
\emph default
 field 'automatically run initialization' to False).
 
\end_layout

\begin_layout Standard
Otherwise, you can also run an initialization without running a sim using
 the 
\series bold
\emph on
init
\series default
\emph default
 command (preferred):
\end_layout

\begin_layout Standard
\begin_inset Box Shaded
position "t"
hor_pos "c"
has_inner_box 1
inner_pos "t"
use_parbox 0
use_makebox 0
width "100col%"
special "none"
height "1in"
height_special "totalheight"
thickness "0.4pt"
separation "3pt"
shadowsize "4pt"
framecolor "black"
backgroundcolor "none"
status open

\begin_layout Plain Layout

\family typewriter
betse init my_config_file.yaml
\end_layout

\end_inset


\end_layout

\begin_layout Standard
After running an init, run the sim phase:
\end_layout

\begin_layout Standard
\begin_inset Box Shaded
position "t"
hor_pos "c"
has_inner_box 1
inner_pos "t"
use_parbox 0
use_makebox 0
width "100col%"
special "none"
height "1in"
height_special "totalheight"
thickness "0.4pt"
separation "3pt"
shadowsize "4pt"
framecolor "black"
backgroundcolor "none"
status open

\begin_layout Plain Layout

\family typewriter
betse sim my_config_file.yaml
\end_layout

\end_inset


\end_layout

\begin_layout Standard
The 
\emph on
Initialization Settings
\emph default
 of the config file allow you to specify settings for the initialization
 run, likewise, the 
\emph on
Simulation Settings
\emph default
 portion allows you to do the same thing for the sim phase.
 
\end_layout

\begin_layout Subsection
Init and Sim Time Profile
\end_layout

\begin_layout Standard
The time-step features for the initialization are found under the 
\begin_inset Quotes eld
\end_inset

init time settings
\begin_inset Quotes erd
\end_inset

 heading, and for simulation under 
\begin_inset Quotes eld
\end_inset

sim time settings
\begin_inset Quotes erd
\end_inset

 (see Figure 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:The-Initialization-Settings"

\end_inset

) The first setting is the 
\begin_inset Quotes eld
\end_inset

time step
\begin_inset Quotes erd
\end_inset

, which is the amount by which the simulation increases world-time in each
 calculation loop.
 Smaller time steps will give you more stability and more accuracy, at the
 expense of increased simulation time and memory as each time step represents
 a computational loop.
 Simulation step-size is defined in seconds [s].
 
\end_layout

\begin_layout Standard
The recommended range for 
\begin_inset Quotes eld
\end_inset

time step
\begin_inset Quotes erd
\end_inset

 is 1e-2 s or smaller for init runs that don't use voltage gated ion channels,
 and 1e-4 s for simulations that use voltage gated ion channels.
 
\end_layout

\begin_layout Standard
Next, use the 
\begin_inset Quotes eld
\end_inset

total time
\begin_inset Quotes erd
\end_inset

 field to decide how long you want to run the initialization, defined in
 seconds [s].
 The recommended range is from 0.1 to 300 s, but it depends on your time-step.
 The 
\begin_inset Quotes eld
\end_inset

sampling rate
\begin_inset Quotes erd
\end_inset

 allows you to specify a time period in seconds [s] to re-sample data from
 the init/sim run, so that you are not sampling data at each time step.
 The recommended re-sampling range is from 1.0e-3 to 10 s, but depends on
 how large your time-step is, and how long your simulation runs for.
 
\end_layout

\begin_layout Standard
\begin_inset Box Shaded
position "t"
hor_pos "c"
has_inner_box 1
inner_pos "t"
use_parbox 0
use_makebox 0
width "100col%"
special "none"
height "1in"
height_special "totalheight"
thickness "0.4pt"
separation "3pt"
shadowsize "4pt"
framecolor "black"
backgroundcolor "none"
status open

\begin_layout Plain Layout

\family typewriter
init time settings:
\end_layout

\begin_layout Plain Layout
\noindent

\family typewriter
\begin_inset space \qquad{}
\end_inset

time step: 1e-2
\end_layout

\begin_layout Plain Layout
\paragraph_spacing single
\noindent

\family typewriter
\begin_inset space \qquad{}
\end_inset

total time: 20
\end_layout

\begin_layout Plain Layout
\paragraph_spacing single
\noindent

\family typewriter
\begin_inset space \qquad{}
\end_inset

sampling rate: 0.1
\end_layout

\end_inset


\end_layout

\begin_layout Section
General Options
\begin_inset CommandInset label
LatexCommand label
name "sec:General-Options"

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename /home/pietakio/Documents/BETSE_Documentation/Documentation4/Figs/BETSE_config_pics/3a_GeneralOptions.png
	lyxscale 50
	width 100text%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
The 
\emph on
General Options
\emph default
 section of a BETSE configuration file.
\begin_inset CommandInset label
LatexCommand label
name "fig:The-General-Options"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Standard
The 
\emph on
General Options
\emph default
 section of the configuration file is where you specify the kinds of ions
 you wish to include in the simulation and their initial cell and environmental
 concentrations, as well as whether or not you want to run a full environmental
 simulation with extracellular spaces.
 
\end_layout

\begin_layout Subsection
Grid
\end_layout

\begin_layout Standard
BETSE creates a square grid that is used to interpolate cell-specific data
 such as ionic currents to prepare streamline plots, as well as to compute
 properties in environmental spaces (when this option is implemented).
 You can specify the resolution of the square grid (as the number of ticks
 of the horizontal and vertical axes) using the 'grid size' option under
 the 
\emph on
General Options
\emph default
 section:
\end_layout

\begin_layout Standard
\begin_inset Box Shaded
position "t"
hor_pos "c"
has_inner_box 1
inner_pos "t"
use_parbox 0
use_makebox 0
width "100col%"
special "none"
height "1in"
height_special "totalheight"
thickness "0.4pt"
separation "3pt"
shadowsize "4pt"
framecolor "black"
backgroundcolor "none"
status open

\begin_layout Plain Layout
grid size: 40 
\end_layout

\end_inset


\end_layout

\begin_layout Standard
Grid sizes are recommended to not be lower than 10 and to not exceed 60.
\end_layout

\begin_layout Subsection
Simulate a Full Environment
\begin_inset CommandInset label
LatexCommand label
name "subsec:Simulate-a-Full"

\end_inset


\end_layout

\begin_layout Standard
A single line of the 
\emph on
General Options
\emph default
 section controls the major feature of whether the cell cluster, initialization
 and simulations model a full environment with extracellular spaces around
 each cell and optional tight and adherens cell-cell junction settings:
\end_layout

\begin_layout Standard
\begin_inset Box Shaded
position "t"
hor_pos "c"
has_inner_box 1
inner_pos "t"
use_parbox 0
use_makebox 0
width "100col%"
special "none"
height "1in"
height_special "totalheight"
thickness "0.4pt"
separation "3pt"
shadowsize "4pt"
framecolor "black"
backgroundcolor "none"
status open

\begin_layout Plain Layout
simulate extracellular spaces: True 
\end_layout

\end_inset


\end_layout

\begin_layout Standard
If 'simulate extracellular spaces' is 'False', the cell cluster will be
 created without environmental spaces, and initializations and simulations
 will assume cells flux out to a global environment with instantaneous mixing
 to the larger whole.
\end_layout

\begin_layout Subsection
Ion Profiles
\end_layout

\begin_layout Standard
The 'ion profile' field is used to specify the type of ions to be used in
 the simulation and their initial values inside and out of cells (with all
 cells having homogeneous values for ions inside and out).
 The values specified in the ion profile are the initial condition values
 for ion concentrations inside and out of the cell at the beginning of the
 initialization simulation:
\end_layout

\begin_layout Standard
\begin_inset Box Shaded
position "t"
hor_pos "c"
has_inner_box 1
inner_pos "t"
use_parbox 0
use_makebox 0
width "100col%"
special "none"
height "1in"
height_special "totalheight"
thickness "0.4pt"
separation "3pt"
shadowsize "4pt"
framecolor "black"
backgroundcolor "none"
status collapsed

\begin_layout Plain Layout

\family typewriter
ion profile: basic
\end_layout

\end_inset


\end_layout

\begin_layout Standard
To make things a bit easier, there are three pre-made default profiles that
 you can choose for this field:
\end_layout

\begin_layout Itemize
'basic' 
\emph on
(Na
\begin_inset script superscript

\begin_layout Plain Layout
+
\end_layout

\end_inset

, K
\begin_inset script superscript

\begin_layout Plain Layout
+
\end_layout

\end_inset

, negatively charged proteins P
\begin_inset script superscript

\begin_layout Plain Layout
-
\end_layout

\end_inset

, and a charge balance anion M
\begin_inset script superscript

\begin_layout Plain Layout
-
\end_layout

\end_inset

)
\end_layout

\begin_layout Itemize
'basic_Ca' 
\emph on
(Na
\begin_inset script superscript

\begin_layout Plain Layout
+
\end_layout

\end_inset

, K
\begin_inset script superscript

\begin_layout Plain Layout
+
\end_layout

\end_inset

, Ca
\begin_inset script superscript

\begin_layout Plain Layout
2+
\end_layout

\end_inset

, negatively charged proteins P
\begin_inset script superscript

\begin_layout Plain Layout
-
\end_layout

\end_inset

, and a charge balance anion M
\begin_inset script superscript

\begin_layout Plain Layout
-
\end_layout

\end_inset

)
\end_layout

\begin_layout Itemize
'mammal' 
\emph on
(Na
\begin_inset script superscript

\begin_layout Plain Layout
+
\end_layout

\end_inset

, K
\begin_inset script superscript

\begin_layout Plain Layout
+
\end_layout

\end_inset

, Cl
\begin_inset script superscript

\begin_layout Plain Layout
-
\end_layout

\end_inset

, Ca
\begin_inset script superscript

\begin_layout Plain Layout
2+
\end_layout

\end_inset

, negatively charged proteins P
\begin_inset script superscript

\begin_layout Plain Layout
-
\end_layout

\end_inset

, and a charge balance anion M
\begin_inset script superscript

\begin_layout Plain Layout
-
\end_layout

\end_inset

)
\end_layout

\begin_layout Standard
Note as ion number increases, time to run an initialization or simulation
 increases proportionally (
\emph on
i.e.

\emph default
 it will take about 1.75 times longer to run a simulation with the 'mammal'
 profile compared to the 'basic' profile), and memory demands increase proportio
nally.
\end_layout

\begin_layout Standard
In addition to these four default profiles, you can specify 'custom' for
 the 'ion profile' field, which allows to you use your own settings.
 If the 'custom' profile is selected, initial ion levels in the cell and
 environment must be defined under the 'customized ion profile' header at
 the end of the 
\emph on
General Options
\emph default
 section (described in sub-section 
\begin_inset CommandInset ref
LatexCommand ref
reference "subsec:Customized-Ion-Settings"

\end_inset

).
\end_layout

\begin_layout Subsection
Customized Ion Settings
\begin_inset CommandInset label
LatexCommand label
name "subsec:Customized-Ion-Settings"

\end_inset


\end_layout

\begin_layout Standard
If 'customized' is specified in the 'ion profile' setting, you will include
 all of the major ions in your simulation by default (Na
\begin_inset script superscript

\begin_layout Plain Layout
+
\end_layout

\end_inset

, K
\begin_inset script superscript

\begin_layout Plain Layout
+
\end_layout

\end_inset

, Cl
\begin_inset script superscript

\begin_layout Plain Layout
-
\end_layout

\end_inset

, Ca
\begin_inset script superscript

\begin_layout Plain Layout
2+
\end_layout

\end_inset

, and anionic proteins/macromolecules P
\begin_inset script superscript

\begin_layout Plain Layout
-
\end_layout

\end_inset

, and a charge compensation anion M
\begin_inset script superscript

\begin_layout Plain Layout
-
\end_layout

\end_inset

) and you must specify all of the initial values for these ions in the cytosolic
 and environmental space in the config file.
\end_layout

\begin_layout Standard
The units of all concentrations are [mmol/L] or equivalently [mol/m
\begin_inset script superscript

\begin_layout Plain Layout
3
\end_layout

\end_inset

].
 The values specified in the ion profile are the initial condition values
 at the beginning of the initialization simulation.
\end_layout

\begin_layout Standard
Note that if the 
\begin_inset Quotes eld
\end_inset

Internal Use Only
\begin_inset Quotes erd
\end_inset

 parameter (see Section 
\begin_inset CommandInset ref
LatexCommand ref
reference "sec:Editing-Internal-Parameters"
plural "false"
caps "false"
noprefix "false"

\end_inset

) is set to:
\end_layout

\begin_layout Standard
\begin_inset space \qquad{}
\end_inset


\begin_inset Box Shaded
position "t"
hor_pos "c"
has_inner_box 1
inner_pos "t"
use_parbox 0
use_makebox 0
width "100col%"
special "none"
height "1in"
height_special "totalheight"
thickness "0.4pt"
separation "3pt"
shadowsize "4pt"
framecolor "black"
backgroundcolor "none"
status collapsed

\begin_layout Plain Layout

\family typewriter
substances affect Vmem: True
\end_layout

\end_inset


\end_layout

\begin_layout Standard
Then charged 
\begin_inset Quotes eld
\end_inset

custom molecules
\begin_inset Quotes erd
\end_inset

 from any BIGR network you are running will be included as concentrations
 in BETSE's assessment of initial charge.
\end_layout

\begin_layout Standard
When using BETSE's customized ion settings, BETSE will automatically balance
 the net charge inside and outside of cells to 
\series bold
zero
\series default
 as an initial condition.
 In order to accomplish this, BETSE defines a value of the charge compensation
 anion, M
\begin_inset script superscript

\begin_layout Plain Layout
-
\end_layout

\end_inset

, inside and out of the cell.
 As BETSE uses an anion to charge compensate, the net charges defined in
 the '
\emph on
custom ion profile
\emph default
' panel, as well as all initial concentrations of charged molecules in your
 BIGR regulatory networks, must sum to a net positive charge.
\end_layout

\begin_layout Standard
\begin_inset Box Shaded
position "t"
hor_pos "c"
has_inner_box 1
inner_pos "t"
use_parbox 0
use_makebox 0
width "100col%"
special "none"
height "1in"
height_special "totalheight"
thickness "0.4pt"
separation "3pt"
shadowsize "4pt"
framecolor "black"
backgroundcolor "none"
status open

\begin_layout Plain Layout

\family typewriter
customized ion profile:
\end_layout

\begin_layout Plain Layout

\family typewriter
\begin_inset space \qquad{}
\end_inset

extracellular Na+ concentration: 145.0
\end_layout

\begin_layout Plain Layout

\family typewriter
\begin_inset space \qquad{}
\end_inset

extracellular K+ concentration: 5.0
\end_layout

\begin_layout Plain Layout

\family typewriter
\begin_inset space \qquad{}
\end_inset

extracellular Ca2+ concentration: 1.0
\end_layout

\begin_layout Plain Layout

\family typewriter
\begin_inset space \qquad{}
\end_inset

extracellular protein- concentration: 10.0
\end_layout

\begin_layout Plain Layout

\family typewriter
\begin_inset space \qquad{}
\end_inset

cytosolic Na+ concentration: 8.0
\end_layout

\begin_layout Plain Layout

\family typewriter
\begin_inset space \qquad{}
\end_inset

cytosolic K+ concentration: 125.0
\end_layout

\begin_layout Plain Layout

\family typewriter
\begin_inset space \qquad{}
\end_inset

cytosolic Cl- concentration: 20.0
\end_layout

\begin_layout Plain Layout

\family typewriter
\begin_inset space \qquad{}
\end_inset

cytosolic Ca2+ concentration: 1.0e-4
\end_layout

\begin_layout Plain Layout

\family typewriter
\begin_inset space \qquad{}
\end_inset

cytosolic protein- concentration: 100.0
\end_layout

\end_inset


\end_layout

\begin_layout Section
World Options
\begin_inset CommandInset label
LatexCommand label
name "sec:World-Variables"

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename /home/pietakio/Documents/BETSE_Documentation/Documentation4/Figs/BETSE_config_pics/3b_WorldOptions.png
	lyxscale 50
	width 100text%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Initial portion of the 
\emph on
World Options
\emph default
 section of a BETSE configuration file.
\begin_inset CommandInset label
LatexCommand label
name "fig:The-World-Variables"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Standard
In BETSE, the 'world' refers to cell geometric properties, the size of the
 cluster, and the properties of the environment such as size and temperature.
 These variables are common to both initialization and simulation runs.
\end_layout

\begin_layout Standard
To ensure synchronization between initialization and simulation runs, world
 options will always default to those of the initialization.
 In other words, you are not able to change the geometry of cells or the
 cluster when calling 'betse sim'; only when calling 'betse init'.
 If world variables are altered after the initialization, they will not
 be implemented; rather, BETSE will default to whatever world variables
 existed in the initialization loaded from the Initialization Settings path.
\end_layout

\begin_layout Subsection
Cell and Cluster Geometric Features 
\begin_inset CommandInset label
LatexCommand label
name "subsec:Cell-and-Cluster"

\end_inset


\end_layout

\begin_layout Standard
Currently, the world is square (x=y) and the cell cluster based on a circular
 shape.
 Specify the dimension of the world space using the 'world size' field,
 with the value in meters [m].
 The recommended range for world dimension is from 100e-6 to 1000e-6 m.
\end_layout

\begin_layout Standard
\begin_inset Box Shaded
position "t"
hor_pos "c"
has_inner_box 1
inner_pos "t"
use_parbox 0
use_makebox 0
width "100col%"
special "none"
height "1in"
height_special "totalheight"
thickness "0.4pt"
separation "3pt"
shadowsize "4pt"
framecolor "black"
backgroundcolor "none"
status open

\begin_layout Plain Layout

\family typewriter
world size: 200e-6
\end_layout

\end_inset


\end_layout

\begin_layout Standard
Next specify the radius of a single cell in meters [m].
 The recommended range is from 3.5e-6 to 20e-6 m.
\end_layout

\begin_layout Standard
\begin_inset Box Shaded
position "t"
hor_pos "c"
has_inner_box 1
inner_pos "t"
use_parbox 0
use_makebox 0
width "100col%"
special "none"
height "1in"
height_special "totalheight"
thickness "0.4pt"
separation "3pt"
shadowsize "4pt"
framecolor "black"
backgroundcolor "none"
status open

\begin_layout Plain Layout

\family typewriter
cell radius: 5e-6 
\end_layout

\end_inset


\end_layout

\begin_layout Standard
Use the 'cell height' field to specify the height of a cell in the z-direction
 [m].
 Although BETSE is a 2D simulator, cell height is used to calculate volume
 and lateral surface area.
 The recommended range is from 1.0e-6 to 10e-6 m.
\end_layout

\begin_layout Standard
\begin_inset Box Shaded
position "t"
hor_pos "c"
has_inner_box 1
inner_pos "t"
use_parbox 0
use_makebox 0
width "100col%"
special "none"
height "1in"
height_special "totalheight"
thickness "0.4pt"
separation "3pt"
shadowsize "4pt"
framecolor "black"
backgroundcolor "none"
status open

\begin_layout Plain Layout

\family typewriter
cell height: 5.0e-6
\end_layout

\end_inset


\end_layout

\begin_layout Standard
Specify the spacing between cells [m].
 The recommended value is 26.0e-9 m for animal cells.
\end_layout

\begin_layout Standard
\begin_inset Box Shaded
position "t"
hor_pos "c"
has_inner_box 1
inner_pos "t"
use_parbox 0
use_makebox 0
width "100col%"
special "none"
height "1in"
height_special "totalheight"
thickness "0.4pt"
separation "3pt"
shadowsize "4pt"
framecolor "black"
backgroundcolor "none"
status collapsed

\begin_layout Plain Layout

\family typewriter
cell spacing: 26.0e-9
\end_layout

\end_inset


\end_layout

\begin_layout Standard
Ignore all tissue profiles and mesh building features of BETSE to simulate
 a single cell:
\end_layout

\begin_layout Standard
\begin_inset Box Shaded
position "t"
hor_pos "c"
has_inner_box 1
inner_pos "t"
use_parbox 0
use_makebox 0
width "100col%"
special "none"
height "1in"
height_special "totalheight"
thickness "0.4pt"
separation "3pt"
shadowsize "4pt"
framecolor "black"
backgroundcolor "none"
status open

\begin_layout Plain Layout

\family typewriter
simulate single cell: True
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename Figs/BETSE_config_pics/3c_WorldOptions.png
	lyxscale 50
	width 100text%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Subsequent portion of the 
\emph on
World Options
\emph default
 section of a BETSE configuration file.
\begin_inset CommandInset label
LatexCommand label
name "fig:The-World-Variables-1"

\end_inset


\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
The cell center points can initially be distributed on a hexagonal or rectangula
r lattice.
 Specify which one you want using 'hex' for hexagonal and 'rect' for rectangular
:
\end_layout

\begin_layout Standard
\begin_inset Box Shaded
position "t"
hor_pos "c"
has_inner_box 1
inner_pos "t"
use_parbox 0
use_makebox 0
width "100col%"
special "none"
height "1in"
height_special "totalheight"
thickness "0.4pt"
separation "3pt"
shadowsize "4pt"
framecolor "black"
backgroundcolor "none"
status open

\begin_layout Plain Layout

\family typewriter
lattice type: hex
\end_layout

\end_inset


\end_layout

\begin_layout Standard
Specify the noise level for the lattice using the 'lattice disorder' field.
 This parameter deviates cell center points from a square grid with random
 perturbations (see Figure 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Lattice-disorder-of"

\end_inset

).
 If 'lattice disorder' is equal to 0, a perfect square grid arrangement
 of cells is created; higher values generate irregular (and arguably more
 bio-similar) grids.
 The recommended range is from 0 to 0.6.
\end_layout

\begin_layout Standard
\begin_inset Box Shaded
position "t"
hor_pos "c"
has_inner_box 1
inner_pos "t"
use_parbox 0
use_makebox 0
width "100col%"
special "none"
height "1in"
height_special "totalheight"
thickness "0.4pt"
separation "3pt"
shadowsize "4pt"
framecolor "black"
backgroundcolor "none"
status open

\begin_layout Plain Layout

\family typewriter
lattice disorder: 0.4
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename Figs/FigureFodder/vmem_gj_43_SquareVersusVoroniLattice.png
	lyxscale 50
	width 100text%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Lattice disorder of 0.8 (left image) and 0.0 (right image).
\begin_inset CommandInset label
LatexCommand label
name "fig:Lattice-disorder-of"

\end_inset


\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Subsection*
Mesh refinement 
\begin_inset CommandInset label
LatexCommand label
name "subsec:Mesh-refinement"

\end_inset


\end_layout

\begin_layout Standard
BETSE can now use Lloyds algorithm to refine the Voronoi mesh defining cells
 of the cluster.
 This refinement algorithm makes the centroids and circumcenters of the
 Delaunay triangulation more equivalent, which leads to more accurate discrete
 math computations.
 Set the maximum number of times you want the refinement algorithm to run
 using 
\begin_inset Quotes eld
\end_inset

maximum steps
\begin_inset Quotes erd
\end_inset

 and the convergence threshold as required for your model.
\end_layout

\begin_layout Standard
\begin_inset Box Shaded
position "t"
hor_pos "c"
has_inner_box 1
inner_pos "t"
use_parbox 0
use_makebox 0
width "100col%"
special "none"
height "1in"
height_special "totalheight"
thickness "0.4pt"
separation "3pt"
shadowsize "4pt"
framecolor "black"
backgroundcolor "none"
status open

\begin_layout Plain Layout

\family typewriter
Refine mesh: True
\end_layout

\begin_layout Plain Layout
maximum steps: 10
\end_layout

\begin_layout Plain Layout
convergence threshold: 1.5
\end_layout

\end_inset


\end_layout

\begin_layout Standard
Specify the threshold for alpha-shape definition of the potentially non-convex
 boundary of your cell cluster in a range between 0.0 and 1.0 (higher values
 of alpha shape are required for non-convex model boundaries):
\end_layout

\begin_layout Standard
\begin_inset Box Shaded
position "t"
hor_pos "c"
has_inner_box 1
inner_pos "t"
use_parbox 0
use_makebox 0
width "100col%"
special "none"
height "1in"
height_special "totalheight"
thickness "0.4pt"
separation "3pt"
shadowsize "4pt"
framecolor "black"
backgroundcolor "none"
status open

\begin_layout Plain Layout

\family typewriter
alpha shape: 0.2
\end_layout

\end_inset


\end_layout

\begin_layout Standard
Use the geometric centroid instead of the circumcenters of triangular simplexes
 of the mesh to calculate Voronoi cell vertices (try using centers if your
 mesh is messy):
\end_layout

\begin_layout Standard
\begin_inset Box Shaded
position "t"
hor_pos "c"
has_inner_box 1
inner_pos "t"
use_parbox 0
use_makebox 0
width "100col%"
special "none"
height "1in"
height_special "totalheight"
thickness "0.4pt"
separation "3pt"
shadowsize "4pt"
framecolor "black"
backgroundcolor "none"
status open

\begin_layout Plain Layout

\family typewriter
use centers: False
\end_layout

\end_inset


\end_layout

\begin_layout Subsection*
Import from SVG 
\begin_inset CommandInset label
LatexCommand label
name "subsec:Import-from-SVG"

\end_inset


\end_layout

\begin_layout Standard
In addition to defining cluster shape and tissue profiles using bitmaps
 (see Section 
\begin_inset CommandInset ref
LatexCommand ref
reference "subsec:Using-Bitmap-Images"
plural "false"
caps "false"
noprefix "false"

\end_inset

), BETSE now allows for optional use of Scalable Vector Graphics (SVG) images
 to define exact locations of cells, and assign cells to tissue profiles.
 The SVG model file must use SVG circles (note they must be circles and
 not ellipses) to define the location of a cell center in the resulting
 BETSE mesh.
 The hexidecimal color value of the fill color of the SVG circle can be
 used to assign cells with that color to a specific tissue profile (see
 Section 
\begin_inset CommandInset ref
LatexCommand ref
reference "subsec:Using-SVG-Images"
plural "false"
caps "false"
noprefix "false"

\end_inset

).
 The SVG file used to define a model is shown in Figure 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:BETSE-svg_cell-cluster-1"
plural "false"
caps "false"
noprefix "false"

\end_inset

A, while the BETSE-computed cellularized model with cells assigned to color-code
d tissue profiles is shown in Figure 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:BETSE-svg_cell-cluster-1"
plural "false"
caps "false"
noprefix "false"

\end_inset

B.
\end_layout

\begin_layout Standard
Note that the SVG file used to define the BETSE model must not contain any
 'transformations' on the circle objects (i.e.
 no rotations, translations, etc), as these will not be applied by BETSE
 and result in circles/cells being located in the wrong place.
 In the BETSE default simulation package, the file geo/root/root_cells_demo.svg
 is a working example for a suitable SVG format to define a BETSE model.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="2" columns="2">
<features tabularvalignment="middle" tabularwidth="60text%">
<column alignment="left" valignment="middle" width="30text%">
<column alignment="left" valignment="middle" width="40text%">
<row>
<cell alignment="left" valignment="top" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
 
\begin_inset Graphics
	filename Figs/NewFigs/svgroot_circles.png
	lyxscale 10
	width 10text%

\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Graphics
	filename Figs/NewFigs/RootProfiles.png
	lyxscale 40
	width 40text%

\end_inset


\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
A
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
B
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
An SVG file can be used to define the BETSE cell cluster and tissue profiles.
 Each svg circle defines the center of a Voronoi cell of the resulting mesh.
 Panel A shows an example SVG circle layout, while B shows the resulting
 BETSE model.
 The hex color code of each SVG circle fill can be used to assign the cell
 to a specific tissue profile.
 
\begin_inset CommandInset label
LatexCommand label
name "fig:BETSE-svg_cell-cluster-1"

\end_inset


\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Section
Tissue Profile Designation
\begin_inset CommandInset label
LatexCommand label
name "sec:Tissue-Profile-Designation"

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename /home/pietakio/Documents/BETSE_Documentation/Documentation4/Figs/BETSE_config_pics/4_TissueProfiles_a.png
	lyxscale 60
	width 100text%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
The beginning of the
\emph on
 Tissue Profile Designation
\emph default
 section of the configuration file, where you specify the clipping bitmap
 that shapes the whole cell cluster, and tell BETSE whether or not further
 tissue profiles are enabled 
\begin_inset CommandInset label
LatexCommand label
name "fig:TissueProfielsA"

\end_inset

.
 
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Standard
The 
\emph on
Tissue Profile Designation
\emph default
 section of BETSE config files is where you define specific geometric aspects
 of your cell cluster.
 BETSE currently supports three different types of geometric profiles: a
 
\begin_inset Quotes eld
\end_inset

clipping
\begin_inset Quotes erd
\end_inset

 profile that defines the overall shape of the cell cluster, a 
\begin_inset Quotes eld
\end_inset

tissue
\begin_inset Quotes erd
\end_inset

 profile that defines different properties on regions within the main cell
 cluster, and a 
\begin_inset Quotes eld
\end_inset

wound
\begin_inset Quotes erd
\end_inset

 profile that allows you to specify a region that will be removed from the
 cell cluster in a cutting event.
 BETSE allows you to specify bitmap images (i.e.
 *.pngs) that BETSE will read in to define your tissue profiles.
 
\end_layout

\begin_layout Subsection
Using Bitmap Images to Define Profiles
\begin_inset CommandInset label
LatexCommand label
name "subsec:Using-Bitmap-Images"

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename Figs/FigureFodder/bitmap_example
	lyxscale 40
	width 100text%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Four example *.png images that can be used to define the overall shape of
 the cluster (far left image; 
\begin_inset Quotes eld
\end_inset

clipping
\begin_inset Quotes erd
\end_inset

 bitmap) and three different tissue profiles within it (
\begin_inset Quotes eld
\end_inset

type: tissue
\begin_inset Quotes erd
\end_inset

 bitmaps).
\begin_inset CommandInset label
LatexCommand label
name "fig:Four-*.png-images"

\end_inset


\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename Figs/FigureFodder/bitmapExample_cluster_mosaic2.png
	lyxscale 80
	width 100text%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
BETSE cell cluster and tissue profiles resulting from bitmap image set shown
 in Figure 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Four-*.png-images"

\end_inset

.
 Regions of the cluster that are scheduled to be amputated during a simulation
 ('cuts') are shown in black.
 
\begin_inset CommandInset label
LatexCommand label
name "fig:BETSE-cell-cluster"

\end_inset


\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
BETSE can read in an unlimited number of bitmap images that can be used
 to define the overall shape of your cell cluster, as well as to define
 spatial regions within the model that have different properties and dynamics
 (tissue profiles), or regions which are cut out of the model before an
 initialization or during a simulation.
\end_layout

\begin_layout Standard
These bitmap image sets can be created in any drawing program that supports
 the export of *.png images.
 
\end_layout

\begin_layout Standard
Note that when you create a default configuration file using the 
\begin_inset Quotes eld
\end_inset

betse config ~/path_to_my_config/config_file.yaml
\begin_inset Quotes erd
\end_inset

 command, a folder called 
\begin_inset Quotes eld
\end_inset

geo
\begin_inset Quotes erd
\end_inset

 is also created.
 Geo includes different sub-folders with default bitmap image sets suitable
 for use with BETSE.
\end_layout

\begin_layout Standard
Bitmap images you create yourself must have the following features:
\end_layout

\begin_layout Itemize
square images with equal number of pixels on each side (recommended 500
 x 500 pixels per image)
\end_layout

\begin_layout Itemize
pure white backgrounds (not transparent!)
\end_layout

\begin_layout Itemize
area to define cluster or tissue region must be a solid black area
\end_layout

\begin_layout Itemize
*.png file format
\end_layout

\begin_layout Itemize
saved with file names and .png extension
\end_layout

\begin_layout Standard
Figure 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Four-*.png-images"

\end_inset

 shows an example of four bitmap images that were used to define a cell
 cluster and three tissue profiles in Figure 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:BETSE-cell-cluster"

\end_inset

.
\end_layout

\begin_layout Subsection
Using SVG Images to Define Model and Profiles
\begin_inset CommandInset label
LatexCommand label
name "subsec:Using-SVG-Images"

\end_inset


\end_layout

\begin_layout Standard
When using 'svg override' and therefore importing a SVG file to define your
 BETSE cell cluster, the hexidecimal fill color value of SVG circles defining
 cell centers can be used to assign cells to a tissue profile.
 To use the SVG fill color to assign cells to a profile, use 'cell targets'
 'type: color' and specify the 6-digit hexidecimal color code for the fill-value
 of circles in the SVG file representing the cells you want to assign to
 a particular tissue profile (see Figure 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:SVGColorTissueProfile"
plural "false"
caps "false"
noprefix "false"

\end_inset

 and 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:BETSE-svg_cell-cluster-1"
plural "false"
caps "false"
noprefix "false"

\end_inset

).
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename Figs/NewFigs/TissueProfilesSVG_col_1.png
	lyxscale 50
	width 80text%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
The hexidecimal fill color value of circles in an SVG model file can be
 used to assign them to a specific tissue profile.
 Here SVG circles colored with the hex value '8000080' are assigned to a
 tissue profile called 'col_1'.
 This method can be used to specify exact location of cells in a tissue
 profile.
 Note that this method of specifying 'cell targets' for a tissue profile
 is ignored if 'svg override' is not 'True'.
 
\begin_inset CommandInset label
LatexCommand label
name "fig:SVGColorTissueProfile"

\end_inset


\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Subsection
The Default Profile
\end_layout

\begin_layout Standard
The first section of Tissue Profile Designation (see Figure 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:TissueProfielsA"

\end_inset

) allows you to define a 
\begin_inset Quotes eld
\end_inset

clipping
\begin_inset Quotes erd
\end_inset

 profile that will define the shape of the whole cluster.
 If you set 
\begin_inset Quotes eld
\end_inset

profiles enabled
\begin_inset Quotes erd
\end_inset

 to False, none of the subsequently-defined tissue profiles will be used
 in your BETSE init or sim.
\end_layout

\begin_layout Standard
The default profile allows you to specify a bitmap image to define the overall
 model shape (note that this is ignored if 'svg override' is 'True'), and
 to specify default transmembrane diffusion constants for the ions of your
 simulation.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename Figs/BETSE_config_pics/4_TissueProfiles_a.png
	lyxscale 60
	width 100text%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
A tissue type block in the configuration file.
 These blocks can be added or erased to define as many tissue type profiles
 as you want for your simulation.
 
\begin_inset CommandInset label
LatexCommand label
name "fig:A-tissue-type-1"

\end_inset


\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Subsection
The Tissue Profile Code Blocks
\end_layout

\begin_layout Standard
Under the header 
\begin_inset Quotes eld
\end_inset

profiles
\begin_inset Quotes erd
\end_inset

, you can define any number of tissue profile blocks, which are indicated
 as 
\begin_inset Quotes eld
\end_inset

- type: tissue
\begin_inset Quotes erd
\end_inset

 (see Figure 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:TissueProfielsA"

\end_inset

).
 These have their own, unique user-defined name (e.g.
 name: spot), can be gap junction isolated from other tissue profiles (e.g.
 insular: True), and that will each be able to have different initial membrane
 diffusion constants for each ion in the simulation (the set of Dm_ values
 under 
\begin_inset Quotes eld
\end_inset

diffusion constants
\begin_inset Quotes erd
\end_inset

).
 Tissue profiles are used so that different scheduled user-interventions,
 ion channel types, etc, can be assigned to specific regions of a cluster
 (see Sections 
\begin_inset CommandInset ref
LatexCommand ref
reference "sec:Scheduled-Interventions"

\end_inset

 and 
\begin_inset CommandInset ref
LatexCommand ref
reference "sec:Working-with-BIGR"

\end_inset

, which make use of tissue profiles).
\end_layout

\begin_layout Standard
To specify the geometry of a tissue profile, change settings under the 
\begin_inset Quotes eld
\end_inset

cell targets
\begin_inset Quotes erd
\end_inset

 heading, specifying the 
\begin_inset Quotes eld
\end_inset

type
\begin_inset Quotes erd
\end_inset

.
 Under 
\begin_inset Quotes eld
\end_inset

type: 
\begin_inset Quotes erd
\end_inset

 you may choose 
\begin_inset Quotes eld
\end_inset

bitmap
\begin_inset Quotes erd
\end_inset

, 
\begin_inset Quotes eld
\end_inset

indices
\begin_inset Quotes erd
\end_inset

, or 
\begin_inset Quotes eld
\end_inset

percent
\begin_inset Quotes erd
\end_inset

 (and if using 'svg override' can use 'color', as mentioned in Section 
\begin_inset CommandInset ref
LatexCommand ref
reference "subsec:Using-SVG-Images"
plural "false"
caps "false"
noprefix "false"

\end_inset

).
 If you choose 
\begin_inset Quotes eld
\end_inset

type: bitmap
\begin_inset Quotes erd
\end_inset

, the image file path is supplied under the subsequent 
\begin_inset Quotes eld
\end_inset

bitmap
\begin_inset Quotes erd
\end_inset

 header (see Figure 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:TissueProfielsA"

\end_inset

).
 If you choose 
\begin_inset Quotes eld
\end_inset

type: indices
\begin_inset Quotes erd
\end_inset

, integers in square brackets correspond to cell indices in your seeded
 world (see Figure 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:TissueProfielsA"

\end_inset

).
 If you choose 
\begin_inset Quotes eld
\end_inset

type: percent
\begin_inset Quotes erd
\end_inset

, the 
\begin_inset Quotes eld
\end_inset

percent
\begin_inset Quotes erd
\end_inset

 header specifies the fraction of randomly selected cells to target (e.g.
 
\begin_inset Quotes eld
\end_inset

percent: 50
\begin_inset Quotes erd
\end_inset

 means 50% of cells will be randomly selected to be included in the tissue
 profile.
 Settings for the cell target assignment possibilities that you do not use
 are ignored, for example, if you choose 
\begin_inset Quotes eld
\end_inset

type: bitmap
\begin_inset Quotes erd
\end_inset

, 
\begin_inset Quotes eld
\end_inset

indices
\begin_inset Quotes erd
\end_inset

 and 
\begin_inset Quotes eld
\end_inset

random
\begin_inset Quotes erd
\end_inset

 fields are ignored.
\end_layout

\begin_layout Standard
A simulation can contain any number of tissue profile code blocks that you
 require for your initialization and simulation phases.
 The entire tissue profile code block, which constitutes all indented material
 following a 
\begin_inset Quotes eld
\end_inset

- type: tissue
\begin_inset Quotes erd
\end_inset

 header (see Figure (see Figure 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:TissueProfielsA"

\end_inset

)) can be deleted if it is no longer required; similarly a tissue profile
 code block can be copied, pasted, and modified to easily construct a new
 profile.
 
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename /home/pietakio/Documents/BETSE_Documentation/Documentation4/Figs/BETSE_config_pics/5_TissueProfiles_b.png
	lyxscale 60
	width 100text%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
A tissue type block in the configuration file.
 These blocks can be added or erased to define as many tissue type profiles
 as you want for your simulation.
 
\begin_inset CommandInset label
LatexCommand label
name "fig:A-tissue-type"

\end_inset


\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Subsection
The Cut Profile Block
\begin_inset CommandInset label
LatexCommand label
name "subsec:The-Cut-Profile"

\end_inset


\end_layout

\begin_layout Standard
Another type of profile is the cut profile block, specified by 
\begin_inset Quotes eld
\end_inset

type: cut
\begin_inset Quotes erd
\end_inset

 (see Figure 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:wound_profile"

\end_inset

), which allows you to specify a bitmap that will define an area where cells
 are removed from the cluster at the beginning of a 
\series bold
\emph on
sim
\series default
\emph default
 command phase when using a targeted intervention called a 
\begin_inset Quotes eld
\end_inset

cutting event
\begin_inset Quotes erd
\end_inset

 (see Section 
\begin_inset CommandInset ref
LatexCommand ref
reference "sec:Scheduled-Interventions"

\end_inset

).
 The cut profile is assigned a name of your choice, and can only be defined
 using a bitmap.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename /home/pietakio/Documents/BETSE_Documentation/Documentation4/Figs/BETSE_config_pics/6_TissueProfiles_c.png
	lyxscale 60
	width 100text%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
A tissue type block in the configuration file.
 These blocks can be added or erased to define as many tissue type profiles
 as you want for your simulation.
 
\begin_inset CommandInset label
LatexCommand label
name "fig:wound_profile"

\end_inset


\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Section
Targeted Interventions
\begin_inset CommandInset label
LatexCommand label
name "sec:Scheduled-Interventions"

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename Figs/BETSE_config_pics/7_Targeted_Interventions.png
	lyxscale 50
	width 100text%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
The 
\emph on
Targeted Interventions
\emph default
 section of a BETSE configuration file.
\begin_inset CommandInset label
LatexCommand label
name "fig:The-Scheduled-Interventions"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Standard

\emph on
Targeted Interventions
\emph default
 section of the config file (see Figure 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:The-Scheduled-Interventions"

\end_inset

) is active only during the 
\series bold
\emph on
sim
\series default
\emph default
 command phase (i.e.
 it is ignored during an init), and allows you to alter key simulation variables
, such as specific membrane permeability, in a time-dependent manner, where
 changes are applied to specific tissue profiles.
 The following types of targeted interventions are available:
\end_layout

\begin_layout Itemize
Temporarily change membrane permeability to Na
\begin_inset script superscript

\begin_layout Plain Layout
+
\end_layout

\end_inset


\end_layout

\begin_layout Itemize
Temporarily change membrane permeability to K
\begin_inset script superscript

\begin_layout Plain Layout
+
\end_layout

\end_inset


\end_layout

\begin_layout Itemize
Temporarily change membrane permeability to Cl
\begin_inset script superscript

\begin_layout Plain Layout
-
\end_layout

\end_inset


\end_layout

\begin_layout Itemize
Temporarily change membrane permeability to Ca
\begin_inset script superscript

\begin_layout Plain Layout
2+
\end_layout

\end_inset


\end_layout

\begin_layout Itemize
Apply physical pressure to an area of the cell cluster
\end_layout

\begin_layout Itemize
Temporarily apply an external voltage to global environmental boundaries
 (requires simulate ECM = True)
\end_layout

\begin_layout Itemize
Break extracellular matrix junctions (requires simulate ECM = True)
\end_layout

\begin_layout Itemize
Cut a piece out of an initialized cluster 
\end_layout

\begin_layout Standard
In contrast to globally scheduled changes, 
\emph on
targeted interventions
\emph default
 are associated with a tissue profile, and can therefore be applied to specific
 regions of your model and not others.
\end_layout

\begin_layout Standard
Most targeted interventions follow a similar general format:
\end_layout

\begin_layout Standard
\begin_inset Box Shaded
position "t"
hor_pos "c"
has_inner_box 1
inner_pos "t"
use_parbox 0
use_makebox 0
width "100col%"
special "none"
height "1in"
height_special "totalheight"
thickness "0.4pt"
separation "3pt"
shadowsize "4pt"
framecolor "black"
backgroundcolor "none"
status open

\begin_layout Plain Layout

\family typewriter
change Na mem:
\end_layout

\begin_layout Plain Layout

\family typewriter
\begin_inset space \qquad{}
\end_inset

event happens: True
\end_layout

\begin_layout Plain Layout

\family typewriter
\begin_inset space \qquad{}
\end_inset

change start: 5 
\end_layout

\begin_layout Plain Layout

\family typewriter
\begin_inset space \qquad{}
\end_inset

change finish: 10 
\end_layout

\begin_layout Plain Layout

\family typewriter
\begin_inset space \qquad{}
\end_inset

change rate: 1 
\end_layout

\begin_layout Plain Layout

\family typewriter
\begin_inset space \qquad{}
\end_inset

multiplier: 10
\end_layout

\begin_layout Plain Layout

\family typewriter
\begin_inset space \qquad{}
\end_inset

modulator function: gradient_x
\end_layout

\begin_layout Plain Layout

\family typewriter
\begin_inset space \qquad{}
\end_inset

apply to: ['nerves','wound']
\end_layout

\end_inset


\end_layout

\begin_layout Standard
By setting 
\begin_inset Quotes eld
\end_inset

event happens
\begin_inset Quotes erd
\end_inset

 to True, you indicate that this targeted intervention will apply in your
 simulation run.
 The fields 
\begin_inset Quotes eld
\end_inset

change start
\begin_inset Quotes erd
\end_inset

, 
\begin_inset Quotes eld
\end_inset

change finish
\begin_inset Quotes erd
\end_inset

 and 
\begin_inset Quotes eld
\end_inset

change rate
\begin_inset Quotes erd
\end_inset

 indicate the simulation time, in seconds, at which the interventions starts,
 finishes, and the rate at which the influence goes from none to all.
 The field 
\begin_inset Quotes eld
\end_inset

multiplier
\begin_inset Quotes erd
\end_inset

 will multiply the base level of the variable by the specified amount, for
 instance, if the original membrane permeability of sodium is Dm_Na = 1.0e-18
 m/s2, a multiplier of 10 will take the value to 1.0e-17 m/s2, which begins
 to change at 5 seconds into the sim, is reached at 6 seconds into the sim,
 begins to return to the original value at 9 seconds, and is at the original
 value at 10 seconds.
\end_layout

\begin_layout Standard
The field 
\begin_inset Quotes eld
\end_inset

modulator function
\begin_inset Quotes erd
\end_inset

 allows you to let the intervention be further modified by a function, where
 your options are: 
\begin_inset Quotes eld
\end_inset

None
\begin_inset Quotes erd
\end_inset

 (use no function), 
\begin_inset Quotes eld
\end_inset

gradient_x
\begin_inset Quotes erd
\end_inset

 (to create a gradient in the parameter along the horizontal axis), 
\begin_inset Quotes eld
\end_inset

gradient_y
\begin_inset Quotes erd
\end_inset

 (to create a gradient in the vertical direction), and 
\begin_inset Quotes eld
\end_inset

gradient_r
\begin_inset Quotes erd
\end_inset

 (to create a radial gradient), or 
\begin_inset Quotes eld
\end_inset

gradient bitmap
\begin_inset Quotes erd
\end_inset

 (to use an imported bitmap of your choice to modulate the intervention).
 Further functions allow the change to be time-dependent ('periodic', 'f-sweep')
, but are applied to the whole cluster.
 Note, if a modulator function is used, the targeted intervention magnitude
 will vary smoothly from zero (no effect) to the value specified by the
 
\begin_inset Quotes eld
\end_inset

multiplier
\begin_inset Quotes erd
\end_inset

 field along the direction of the gradient.
 Modulator function properties, including the slope and offset of the gradients,
 can be specified a little further down in the configuration file under
 the 
\begin_inset Quotes eld
\end_inset

modulator function properties
\begin_inset Quotes erd
\end_inset

 fields (see Section 
\begin_inset CommandInset ref
LatexCommand ref
reference "sec:Modulator-Functions"
plural "false"
caps "false"
noprefix "false"

\end_inset

 and Figure 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Modulator functions"
plural "false"
caps "false"
noprefix "false"

\end_inset

).
\end_layout

\begin_layout Standard
Finally, use the 
\begin_inset Quotes eld
\end_inset

apply to
\begin_inset Quotes erd
\end_inset

 field to specify how the targeted intervention applies to your cell population,
 by specifying tissue type profile names you have defined in the 
\begin_inset Quotes eld
\end_inset

Tissue Profile Designation
\begin_inset Quotes erd
\end_inset

 section.
 This must be specified as a tissue profile name, or a sequence of names,
 using the text formatting shown in the example (square brackets with tissue
 profile names in quotes and separated by commas if more than one profile
 name is desired).
\end_layout

\begin_layout Subsection
Applying an external voltage
\end_layout

\begin_layout Standard
Applying external voltage is a unique kind of targeted intervention that
 simulates application of an externally derived electric field to the BETSE
 simulation.
 This is done by changing the voltage of the global boundary conditions
 for the environment in a time-dependent manner.
\end_layout

\begin_layout Standard
The text-block defining the 'apply external voltage' intervention is similar
 to other targeted interventions, however, the 'peak value' field represents
 the voltage (units Volts) that will be applied to each of the two boundaries.
 You then specify which two boundaries of the square, global simulation
 box hold the positive and negative voltage, with choices being 
\begin_inset Quotes eld
\end_inset

top
\begin_inset Quotes erd
\end_inset

, 
\begin_inset Quotes eld
\end_inset

bottom
\begin_inset Quotes erd
\end_inset

, 
\begin_inset Quotes eld
\end_inset

left
\begin_inset Quotes erd
\end_inset

, and 
\begin_inset Quotes eld
\end_inset

right
\begin_inset Quotes erd
\end_inset

.
\end_layout

\begin_layout Standard
\begin_inset Box Shaded
position "t"
hor_pos "c"
has_inner_box 1
inner_pos "t"
use_parbox 0
use_makebox 0
width "100col%"
special "none"
height "1in"
height_special "totalheight"
thickness "0.4pt"
separation "3pt"
shadowsize "4pt"
framecolor "black"
backgroundcolor "none"
status open

\begin_layout Plain Layout

\family typewriter
apply external voltage:
\end_layout

\begin_layout Plain Layout

\family typewriter
\begin_inset space \qquad{}
\end_inset

event happens: True
\end_layout

\begin_layout Plain Layout

\family typewriter
\begin_inset space \qquad{}
\end_inset

change start: 5 
\end_layout

\begin_layout Plain Layout

\family typewriter
\begin_inset space \qquad{}
\end_inset

change finish: 10 
\end_layout

\begin_layout Plain Layout

\family typewriter
\begin_inset space \qquad{}
\end_inset

change rate: 1 
\end_layout

\begin_layout Plain Layout

\family typewriter
\begin_inset space \qquad{}
\end_inset

peak value: 0.5
\end_layout

\begin_layout Plain Layout

\family typewriter
\begin_inset space \qquad{}
\end_inset

positive voltage boundary: top
\end_layout

\begin_layout Plain Layout

\family typewriter
\begin_inset space \qquad{}
\end_inset

negative voltage boundary: bottom
\end_layout

\end_inset


\end_layout

\begin_layout Subsection
Cutting events
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename Figs/BETSE_config_pics/9_CuttingEvent.png
	lyxscale 50
	width 100text%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
The
\emph on
 cutting event
\emph default
 section of a BETSE configuration file.
\begin_inset CommandInset label
LatexCommand label
name "fig:cutEvent"

\end_inset


\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Cutting events are a unique kind of targeted intervention for which it's
 worth mentioning a few additional points (Figure 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:cutEvent"

\end_inset

).
 In order for cutting events to work, you must have a tissue profile with
 a designation of 
\begin_inset Quotes eld
\end_inset

cuts
\begin_inset Quotes erd
\end_inset

 defined for your simulation (see Section 
\begin_inset CommandInset ref
LatexCommand ref
reference "subsec:The-Cut-Profile"
plural "false"
caps "false"
noprefix "false"

\end_inset

).
\end_layout

\begin_layout Standard
The cutting event currently happens at the very beginning of a simulation
 run, so there are no time-specific settings for this type of targeted intervent
ion.
\end_layout

\begin_layout Section
Modulator Functions
\begin_inset CommandInset label
LatexCommand label
name "sec:Modulator-Functions"

\end_inset


\end_layout

\begin_layout Standard
Modulator functions are internally calculated simple functions (e.g.
 a gradient along the x-axis) or user-defined bitmaps (where red is read
 in as 1.0 and black as 0.0) used to modulate certain targeted interventions,
 as well as the growth of custom molecules and the presence of ion transporters
 and channels in your model.
 The 'gradient_x', 'gradient_y', and 'gradient_r' functions use a Hill function
 to calculate the modulating function along the chosen axis.
 Parameters for these functions can be edited in the Modulator Function
 Properties banner of the main BETSE config (see Figure 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Modulator functions"
plural "false"
caps "false"
noprefix "false"

\end_inset

).
 Alternatively, a bitmap image can be read in from a relative path (see
 Figure 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Modulator functions"
plural "false"
caps "false"
noprefix "false"

\end_inset

), where red is taken to be areas modulated by 1.0 and black to be 0.0.
 The term 'modulation' means that these functions are used to multiply growth
 or expression values of a parameter (e.g.
 the maximum rate of a transporter) over the entire cell cluster.
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename Figs/BETSE_config_pics/10_ModulatorFunctions.png
	lyxscale 50
	width 100text%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
The 
\emph on
Modulator Function Properties 
\emph default
section of a BETSE configuration file.
\begin_inset CommandInset label
LatexCommand label
name "fig:Modulator functions"

\end_inset


\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Section
Global Interventions
\begin_inset CommandInset label
LatexCommand label
name "sec:Global-Interventions"

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename Figs/BETSE_config_pics/12_GlobalInterventions.png
	lyxscale 50
	width 100text%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
The 
\emph on
Global Interventions
\emph default
 section of a BETSE configuration file.
\begin_inset CommandInset label
LatexCommand label
name "fig:GlobalInterventions"

\end_inset


\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Global Interventions are events that affect the state of the entire cell
 population or environment.
 At present you can specify a transient change to:
\end_layout

\begin_layout Itemize
Environmental K+ levels
\end_layout

\begin_layout Itemize
Enviromental Cl- levels
\end_layout

\begin_layout Itemize
Envirnomental Na+ levels
\end_layout

\begin_layout Itemize
World Temperature
\end_layout

\begin_layout Itemize
Block all gap junctions (or a randomly targeted sub-population of gap junctions)
\end_layout

\begin_layout Itemize
Block NaK-ATPase pumps
\end_layout

\begin_layout Standard
To implement global scheduled changes, see the 
\emph on
Global Interventions
\emph default
 section of the config file, where there is a list of possible global interventi
ons and options under each type of change.
 Most of the global interventions are defined by text blocks that follow
 a similar format:
\end_layout

\begin_layout Standard
\begin_inset Box Shaded
position "t"
hor_pos "c"
has_inner_box 1
inner_pos "t"
use_parbox 0
use_makebox 0
width "100col%"
special "none"
height "1in"
height_special "totalheight"
thickness "0.4pt"
separation "3pt"
shadowsize "4pt"
framecolor "black"
backgroundcolor "none"
status open

\begin_layout Plain Layout

\family typewriter
change K env:
\end_layout

\begin_layout Plain Layout

\family typewriter
\begin_inset space \qquad{}
\end_inset

event happens: True
\end_layout

\begin_layout Plain Layout

\family typewriter
\begin_inset space \qquad{}
\end_inset

change start: 5 
\end_layout

\begin_layout Plain Layout

\family typewriter
\begin_inset space \qquad{}
\end_inset

change finish: 100 
\end_layout

\begin_layout Plain Layout

\family typewriter
\begin_inset space \qquad{}
\end_inset

change rate: 10 
\end_layout

\begin_layout Plain Layout

\family typewriter
\begin_inset space \qquad{}
\end_inset

multiplier: 10
\end_layout

\end_inset


\end_layout

\begin_layout Standard
To make the global intervention apply in your simulation run, set the 'event
 happens' field to True.
 Specify when in the simulation you want the property to start changing
 ('change start'), when you want the change to finish ('change finish'),
 the rate at which you desire a change to go from baseline to changed and
 vice versa ('change rate'), and the factor by which you want the change
 to deviate from baseline values ('multiplier').
 The times and rates are specified in seconds, while the multiplier is unit-less.
 
\end_layout

\begin_layout Standard
If 'simulate ECM' (see section 
\begin_inset CommandInset ref
LatexCommand ref
reference "subsec:Simulate-a-Full"

\end_inset

) is True, when applying a global change to a concentration, BETSE introduces
 the altered concentration from the global boundaries of the environmental
 bounding box.
 Also, when a full envirnoment is simulating, changing the concentration
 of a particular ion must be charge balanced (i.e.
 you can't just add in pure K+ ions to the environment, it must come in
 as a salt with equal moles of an anion).
 Therefore, K
\begin_inset script superscript

\begin_layout Plain Layout
+
\end_layout

\end_inset

 is introduced as equal parts K
\begin_inset script superscript

\begin_layout Plain Layout
+
\end_layout

\end_inset

& M
\begin_inset script superscript

\begin_layout Plain Layout
-
\end_layout

\end_inset

, Cl
\begin_inset script superscript

\begin_layout Plain Layout
-
\end_layout

\end_inset

 as equal parts Na
\begin_inset script superscript

\begin_layout Plain Layout
+ 
\end_layout

\end_inset

& Cl
\begin_inset script superscript

\begin_layout Plain Layout
-
\end_layout

\end_inset

, and Na
\begin_inset script superscript

\begin_layout Plain Layout
+
\end_layout

\end_inset

 as equal parts Na
\begin_inset script superscript

\begin_layout Plain Layout
+
\end_layout

\end_inset

& M
\begin_inset script superscript

\begin_layout Plain Layout
-
\end_layout

\end_inset

.
 If 'simulate ECM' is False, the ion is simply introduced as the environmental
 charge and voltage are not a concern.
 
\end_layout

\begin_layout Standard
Note, the 'block gap junctions', 'block NaKATPase pump' and 'block HKATPase
 pump' headers do not have a 'multiplier' field as the block currently sets
 all activity to zero.
 When blocking gap junctions, you're able to specify the randomly targeted
 fraction of gap junctions to be blocked by typing an integer from 1 to
 100 in the 'random fraction' field: 
\end_layout

\begin_layout Standard
\begin_inset Box Shaded
position "t"
hor_pos "c"
has_inner_box 1
inner_pos "t"
use_parbox 0
use_makebox 0
width "100col%"
special "none"
height "1in"
height_special "totalheight"
thickness "0.4pt"
separation "3pt"
shadowsize "4pt"
framecolor "black"
backgroundcolor "none"
status open

\begin_layout Plain Layout

\family typewriter
block gap junctions:
\end_layout

\begin_layout Plain Layout

\family typewriter
\begin_inset space \qquad{}
\end_inset

event happens: True
\end_layout

\begin_layout Plain Layout

\family typewriter
\begin_inset space \qquad{}
\end_inset

change start: 5 
\end_layout

\begin_layout Plain Layout

\family typewriter
\begin_inset space \qquad{}
\end_inset

change finish: 100 
\end_layout

\begin_layout Plain Layout

\family typewriter
\begin_inset space \qquad{}
\end_inset

change rate: 10 
\end_layout

\begin_layout Plain Layout

\family typewriter
\begin_inset space \qquad{}
\end_inset

random fraction: 75
\end_layout

\end_inset


\end_layout

\begin_layout Section
BIGR Networks
\begin_inset CommandInset label
LatexCommand label
name "sec:Working-with-BIGR"

\end_inset


\end_layout

\begin_layout Standard
BETSE allows users to define bioelectricity-integrated gene and reaction
 networks (BIGR networks).
 BETSE provides two options for simulating BIGR networks: (1) a 
\emph on
General Network
\emph default
 that is defined within the main config file and (2) a GRN that is specified
 in an 'extra config' file with path specified under the 
\emph on
Gene Regulatory Network
\emph default
 section of the main config file (Figure 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:GenNet-1"
plural "false"
caps "false"
noprefix "false"

\end_inset

).
 Both of these networks share the same defining configuration code blocks.
 Example GRN extra config files are provided automatically whenever the
 
\series bold
\emph on
config
\series default
\emph default
 command is called and appear in the folder 
\begin_inset Quotes eld
\end_inset

extra config files
\begin_inset Quotes erd
\end_inset

.
 Note that the Gene Regulatory Network can be run, saved and plotted without
 bioelectrical computations using the 'sim grn' command.
\end_layout

\begin_layout Subsection
General Network 
\begin_inset CommandInset label
LatexCommand label
name "subsec:General-Network"

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename Figs/BETSE_config_pics/13_GeneralNetworkProperties.png
	lyxscale 50
	width 100text%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
The 
\emph on
General Network Features
\emph default
 section of a BETSE configuration file.
\begin_inset CommandInset label
LatexCommand label
name "fig:GenNet"

\end_inset


\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
The General Network can be turned on/off using the 
\begin_inset Quotes eld
\end_inset

implement network
\begin_inset Quotes erd
\end_inset

 field under the General Network Features section of the main config.
 Use this first portion of the network config block to specify a relative
 path to an 'expression data file' (details discussed in Section 
\begin_inset CommandInset ref
LatexCommand ref
reference "subsec:Using-Expression-Profiles"
plural "false"
caps "false"
noprefix "false"

\end_inset

).
\end_layout

\begin_layout Subsection
Custom Biomolecules
\end_layout

\begin_layout Standard
Under the 
\begin_inset Quotes eld
\end_inset

custom biomolecules
\begin_inset Quotes erd
\end_inset

 header, any number of code blocks can be included which each define a chemical
 substance.
 Each substance code block begins with a 
\begin_inset Quotes eld
\end_inset

- name:
\begin_inset Quotes erd
\end_inset

 field, where the the 
\begin_inset Quotes eld
\end_inset

-
\begin_inset Quotes erd
\end_inset

 is an important feature that signifies the beginning of a new chemical
 substance block.
 Within each substance code block, the user can specify membrane and free
 diffusion constants (Dm and Do, respectively), substance charge z, the
 initial environmental and cell concentrations, whether the substance can
 permeate through tight junctions (e.g.
 dissolved oxygen), and whether it is impermeable to gap junctions (e.g.
 large macromolecules and proteins).
 
\end_layout

\begin_layout Standard
Substances can have an optional 
\begin_inset Quotes eld
\end_inset

growth and decay
\begin_inset Quotes erd
\end_inset

 sub-block, which can simply be commented out or deleted if it is not needed.
 The 
\begin_inset Quotes eld
\end_inset

growth and decay
\begin_inset Quotes erd
\end_inset

 sub-block defines base rates of maximum production, decay, tissue profiles
 to which growth applies (or 
\begin_inset Quotes eld
\end_inset

all
\begin_inset Quotes erd
\end_inset

 for all cells in the cluster), and the ability to specify a modulator function
 (or 
\begin_inset Quotes eld
\end_inset

None
\begin_inset Quotes erd
\end_inset

 for homogeneous cell production).
 In the 
\begin_inset Quotes eld
\end_inset

growth and decay
\begin_inset Quotes erd
\end_inset

 sub-block, other user-defined substances can be indicated as activators
 or inhibitors of substance production, which are provided as a list of
 substance names inside square brackets.
 
\end_layout

\begin_layout Standard
Plotting settings for a substance's concentration are indicated in the chemical
 substance code block:
\end_layout

\begin_layout Standard
\begin_inset Box Shaded
position "t"
hor_pos "c"
has_inner_box 1
inner_pos "t"
use_parbox 0
use_makebox 0
width "100col%"
special "none"
height "1in"
height_special "totalheight"
thickness "0.4pt"
separation "3pt"
shadowsize "4pt"
framecolor "black"
backgroundcolor "none"
status open

\begin_layout Plain Layout

\family typewriter
- name: 'Substance A'
\end_layout

\begin_layout Plain Layout

\family typewriter
\begin_inset space \qquad{}
\end_inset

Dm: 0.0 
\end_layout

\begin_layout Plain Layout

\family typewriter
\begin_inset space \qquad{}
\end_inset

Do: 1.0e-9 
\end_layout

\begin_layout Plain Layout

\family typewriter
\begin_inset space \qquad{}
\end_inset

z: -2 
\end_layout

\begin_layout Plain Layout

\family typewriter
\begin_inset space \qquad{}
\end_inset

env conc: 0.0 
\end_layout

\begin_layout Plain Layout

\family typewriter
\begin_inset space \qquad{}
\end_inset

cell conc: 2.5 
\end_layout

\begin_layout Plain Layout

\family typewriter
\begin_inset space \qquad{}
\end_inset

TJ permeable: False 
\end_layout

\begin_layout Plain Layout

\family typewriter
\begin_inset space \qquad{}
\end_inset

GJ impermeable: False 
\end_layout

\begin_layout Plain Layout

\family typewriter
\begin_inset space \qquad{}
\end_inset

TJ factor: 1.0 
\end_layout

\begin_layout Plain Layout

\family typewriter
\begin_inset space \qquad{}
\end_inset

ignore ECM: False 
\end_layout

\begin_layout Plain Layout

\family typewriter
\begin_inset space \qquad{}
\end_inset

growth and decay: 
\end_layout

\begin_layout Plain Layout

\family typewriter
\begin_inset space \qquad{}
\end_inset


\begin_inset space \qquad{}
\end_inset

production rate: 1.0 
\end_layout

\begin_layout Plain Layout

\family typewriter
\begin_inset space \qquad{}
\end_inset


\begin_inset space \qquad{}
\end_inset

decay rate: 0.5 
\end_layout

\begin_layout Plain Layout

\family typewriter
\begin_inset space \qquad{}
\end_inset


\begin_inset space \qquad{}
\end_inset

Km: 1.0 
\end_layout

\begin_layout Plain Layout

\family typewriter
\begin_inset space \qquad{}
\end_inset


\begin_inset space \qquad{}
\end_inset

n: 1.0 
\end_layout

\begin_layout Plain Layout

\family typewriter
\begin_inset space \qquad{}
\end_inset


\begin_inset space \qquad{}
\end_inset

apply to: ['spot'] 
\end_layout

\begin_layout Plain Layout

\family typewriter
\begin_inset space \qquad{}
\end_inset


\begin_inset space \qquad{}
\end_inset

modulator function: gradient_x 
\end_layout

\begin_layout Plain Layout

\family typewriter
\begin_inset space \qquad{}
\end_inset


\begin_inset space \qquad{}
\end_inset

activators: None 
\end_layout

\begin_layout Plain Layout

\family typewriter
\begin_inset space \qquad{}
\end_inset


\begin_inset space \qquad{}
\end_inset

Km activators: None 
\end_layout

\begin_layout Plain Layout

\family typewriter
\begin_inset space \qquad{}
\end_inset


\begin_inset space \qquad{}
\end_inset

n activators: None 
\end_layout

\begin_layout Plain Layout

\family typewriter
\begin_inset space \qquad{}
\end_inset


\begin_inset space \qquad{}
\end_inset

inhibitors: ['Substance B'] 
\end_layout

\begin_layout Plain Layout

\family typewriter
\begin_inset space \qquad{}
\end_inset


\begin_inset space \qquad{}
\end_inset

Km inhibitors: [1.0] 
\end_layout

\begin_layout Plain Layout

\family typewriter
\begin_inset space \qquad{}
\end_inset


\begin_inset space \qquad{}
\end_inset

n inhibitors: [3.0] 
\end_layout

\begin_layout Plain Layout

\family typewriter
\begin_inset space \qquad{}
\end_inset

plotting: 
\end_layout

\begin_layout Plain Layout

\family typewriter
\begin_inset space \qquad{}
\end_inset


\begin_inset space \qquad{}
\end_inset

plot 2D: True 
\end_layout

\begin_layout Plain Layout

\family typewriter
\begin_inset space \qquad{}
\end_inset


\begin_inset space \qquad{}
\end_inset

animate: True 
\end_layout

\begin_layout Plain Layout

\family typewriter
\begin_inset space \qquad{}
\end_inset


\begin_inset space \qquad{}
\end_inset

autoscale colorbar: True 
\end_layout

\begin_layout Plain Layout

\family typewriter
\begin_inset space \qquad{}
\end_inset


\begin_inset space \qquad{}
\end_inset

max val: 2.0 
\end_layout

\begin_layout Plain Layout

\family typewriter
\begin_inset space \qquad{}
\end_inset


\begin_inset space \qquad{}
\end_inset

min val: 0.0 
\end_layout

\end_inset


\end_layout

\begin_layout Standard
Any number of substance code blocks (each with its own unique name) can
 be included in a BETSE network simulation.
 For details regarding custom biomolecule definition, please see the 
\begin_inset Quotes eld
\end_inset

extra_config_template.yaml
\begin_inset Quotes erd
\end_inset

 file available in the 
\begin_inset Quotes eld
\end_inset

extra configs
\begin_inset Quotes erd
\end_inset

 folder that is created when the betse 
\series bold
\emph on
config
\series default
\emph default
 command is called.
 
\end_layout

\begin_layout Subsection
Custom Chemical Reactions
\end_layout

\begin_layout Standard
Chemical reactions are defined under the header 'Custom Chemical Reactions'
 of a BIGR network config file or block.
 Chemical reactions allow some user-defined substances to be converted into
 others, as in a standard reaction.
 Each chemical reaction is defined by its own code block, which allows a
 user to specify a reaction name, list reactants, list products, specify
 a maximum rate for the reaction, state a standard free energy (where 
\begin_inset Quotes eld
\end_inset

None
\begin_inset Quotes erd
\end_inset

 indicates a non-reversible reaction), and allow other user-defined substances
 to activate or inhibit the base reaction rate:
\end_layout

\begin_layout Standard
\begin_inset Box Shaded
position "t"
hor_pos "c"
has_inner_box 1
inner_pos "t"
use_parbox 0
use_makebox 0
width "100col%"
special "none"
height "1in"
height_special "totalheight"
thickness "0.4pt"
separation "3pt"
shadowsize "4pt"
framecolor "black"
backgroundcolor "none"
status open

\begin_layout Plain Layout

\family typewriter
- name: consume_A 
\end_layout

\begin_layout Plain Layout

\family typewriter
\begin_inset space \qquad{}
\end_inset

reaction zone: cell 
\end_layout

\begin_layout Plain Layout

\family typewriter
\begin_inset space \qquad{}
\end_inset

reactants: ['A'] 
\end_layout

\begin_layout Plain Layout

\family typewriter
\begin_inset space \qquad{}
\end_inset

reactant multipliers: [1] 
\end_layout

\begin_layout Plain Layout

\family typewriter
\begin_inset space \qquad{}
\end_inset

Km reactants: [1.0] 
\end_layout

\begin_layout Plain Layout

\family typewriter
\begin_inset space \qquad{}
\end_inset

products: ['B', 'C'] 
\end_layout

\begin_layout Plain Layout

\family typewriter
\begin_inset space \qquad{}
\end_inset

product multipliers: [1, 1] 
\end_layout

\begin_layout Plain Layout

\family typewriter
\begin_inset space \qquad{}
\end_inset

Km products: [0.1, 0.1] 
\end_layout

\begin_layout Plain Layout

\family typewriter
\begin_inset space \qquad{}
\end_inset

max rate: 5.0e-3 
\end_layout

\begin_layout Plain Layout

\family typewriter
\begin_inset space \qquad{}
\end_inset

standard free energy: None 
\end_layout

\begin_layout Plain Layout

\family typewriter
\begin_inset space \qquad{}
\end_inset

reaction activators: None 
\end_layout

\begin_layout Plain Layout

\family typewriter
\begin_inset space \qquad{}
\end_inset

activator Km: None 
\end_layout

\begin_layout Plain Layout

\family typewriter
\begin_inset space \qquad{}
\end_inset

activator n: None 
\end_layout

\begin_layout Plain Layout

\family typewriter
\begin_inset space \qquad{}
\end_inset

activator zone: None 
\end_layout

\begin_layout Plain Layout

\family typewriter
\begin_inset space \qquad{}
\end_inset

reaction inhibitors: None 
\end_layout

\begin_layout Plain Layout

\family typewriter
\begin_inset space \qquad{}
\end_inset

inhibitor Km: None 
\end_layout

\begin_layout Plain Layout

\family typewriter
\begin_inset space \qquad{}
\end_inset

inhibitor n: None 
\end_layout

\begin_layout Plain Layout

\family typewriter
\begin_inset space \qquad{}
\end_inset

inhibitor zone: None
\end_layout

\end_inset


\end_layout

\begin_layout Standard
Any number of reaction code blocks (each with its own unique name) can be
 included in a BETSE network simulation.
 For details regarding custom reaction definition, please see the 
\begin_inset Quotes eld
\end_inset

extra_config_template.yaml
\begin_inset Quotes erd
\end_inset

 file available in the 
\begin_inset Quotes eld
\end_inset

extra configs
\begin_inset Quotes erd
\end_inset

 folder that is created when the betse 
\series bold
\emph on
config
\series default
\emph default
 command is called.
 
\end_layout

\begin_layout Subsection
Custom Transporters 
\begin_inset Note Note
status open

\begin_layout Plain Layout
Finish updating
\end_layout

\end_inset


\end_layout

\begin_layout Standard
Ion pumps and various transporters are defined under the header 'Custom
 Transporters' of a BIGR network config file or block.
 Transporters are chemical reactions where one or more of the reactants
 or products (which include user-defined substances as well as all core
 ions of the base BETSE simulator) may involve a transport from the inside
 to the outside of the cell, thereby allowing a user to define a wide range
 of different transporters.
 Each transporter is defined by a code block, which allows a user to specify
 a reaction name, list reactants, list products, specify a maximum rate
 for the reaction, state a standard free energy (where 
\begin_inset Quotes eld
\end_inset

None
\begin_inset Quotes erd
\end_inset

 indicates a non-reversible reaction), and allow other user-defined substances
 to activate or inhibit the base reaction rate.
 For transporters, one must additionally specify which substances are transporte
d into or out of the cell.
 Ions are specified by their common names ('Na', 'K', 'Cl', 'Ca'): 
\end_layout

\begin_layout Standard
\begin_inset Box Shaded
position "t"
hor_pos "c"
has_inner_box 1
inner_pos "t"
use_parbox 0
use_makebox 0
width "100col%"
special "none"
height "1in"
height_special "totalheight"
thickness "0.4pt"
separation "3pt"
shadowsize "4pt"
framecolor "black"
backgroundcolor "none"
status open

\begin_layout Plain Layout

\family typewriter
transporters:
\end_layout

\begin_layout Plain Layout

\family typewriter
- name: Transport_A 
\end_layout

\begin_layout Plain Layout

\family typewriter
\begin_inset space \qquad{}
\end_inset

reaction zone: cell 
\end_layout

\begin_layout Plain Layout

\family typewriter
\begin_inset space \qquad{}
\end_inset

reactants: ['Substance_A', 'Na'] 
\end_layout

\begin_layout Plain Layout

\family typewriter
\begin_inset space \qquad{}
\end_inset

reactant multipliers: [1, 1] 
\end_layout

\begin_layout Plain Layout

\family typewriter
\begin_inset space \qquad{}
\end_inset

Km reactants: [0.1, 1.0] 
\end_layout

\begin_layout Plain Layout

\family typewriter
\begin_inset space \qquad{}
\end_inset

products: ['Substance_A', 'Na'] 
\end_layout

\begin_layout Plain Layout

\family typewriter
\begin_inset space \qquad{}
\end_inset

product multipliers: [1, 1] 
\end_layout

\begin_layout Plain Layout

\family typewriter
\begin_inset space \qquad{}
\end_inset

Km products: [0.1, 1.0] 
\end_layout

\begin_layout Plain Layout

\family typewriter
\begin_inset space \qquad{}
\end_inset

transfered out of cell: ['Na'] 
\end_layout

\begin_layout Plain Layout

\family typewriter
\begin_inset space \qquad{}
\end_inset

transfered into cell: ['Substance_A'] 
\end_layout

\begin_layout Plain Layout

\family typewriter
\begin_inset space \qquad{}
\end_inset

max rate: 1.0e-5 
\end_layout

\begin_layout Plain Layout

\family typewriter
\begin_inset space \qquad{}
\end_inset

standard free energy: 0 
\end_layout

\begin_layout Plain Layout

\family typewriter
\begin_inset space \qquad{}
\end_inset

apply to: ['nerves', 'spot'] 
\end_layout

\begin_layout Plain Layout

\family typewriter
\begin_inset space \qquad{}
\end_inset

ignore ECM: True 
\end_layout

\begin_layout Plain Layout

\family typewriter
\begin_inset space \qquad{}
\end_inset

transporter activators: None 
\end_layout

\begin_layout Plain Layout

\family typewriter
\begin_inset space \qquad{}
\end_inset

activator Km: None 
\end_layout

\begin_layout Plain Layout

\family typewriter
\begin_inset space \qquad{}
\end_inset

activator n: None 
\end_layout

\begin_layout Plain Layout

\family typewriter
\begin_inset space \qquad{}
\end_inset

activator zone: None 
\end_layout

\begin_layout Plain Layout

\family typewriter
\begin_inset space \qquad{}
\end_inset

inhibitors: None 
\end_layout

\begin_layout Plain Layout

\family typewriter
\begin_inset space \qquad{}
\end_inset

inhibitor Km: None 
\end_layout

\begin_layout Plain Layout

\family typewriter
\begin_inset space \qquad{}
\end_inset

inhibitor n: None 
\end_layout

\begin_layout Plain Layout

\family typewriter
\begin_inset space \qquad{}
\end_inset

inhibitor zone: None
\end_layout

\end_inset


\end_layout

\begin_layout Standard
Any number of transporter code blocks (each with its own unique name) can
 be included in a BETSE network simulation.
 For details regarding custom transporter definition, please see the 
\begin_inset Quotes eld
\end_inset

extra_config_template.yaml
\begin_inset Quotes erd
\end_inset

 file available in the 
\begin_inset Quotes eld
\end_inset

extra configs
\begin_inset Quotes erd
\end_inset

 folder that is created when the betse 
\series bold
\emph on
config
\series default
\emph default
 command is called.
 
\end_layout

\begin_layout Subsection
Custom Channels
\end_layout

\begin_layout Standard
Custom ion channels are defined under the header 'Custom Channels' of a
 BIGR network config file or block.
 Custom channels allow a user to evoke one of the available channel classes
 (e.g.
 voltage gated Na channels) and a specific channel type (e.g.
 NaV1p2) and to optionally have custom substances activate/inhibit (co-regulate)
 the channel behavior:
\end_layout

\begin_layout Standard
\begin_inset Box Shaded
position "t"
hor_pos "c"
has_inner_box 1
inner_pos "t"
use_parbox 0
use_makebox 0
width "100col%"
special "none"
height "1in"
height_special "totalheight"
thickness "0.4pt"
separation "3pt"
shadowsize "4pt"
framecolor "black"
backgroundcolor "none"
status open

\begin_layout Plain Layout

\family typewriter
- name: ATP-K-channel
\end_layout

\begin_layout Plain Layout

\family typewriter
\begin_inset space \qquad{}
\end_inset

channel class: K 
\end_layout

\begin_layout Plain Layout

\family typewriter
\begin_inset space \qquad{}
\end_inset

channel type: KLeak
\end_layout

\begin_layout Plain Layout

\family typewriter
\begin_inset space \qquad{}
\end_inset

max Dm: 1.0e-8
\end_layout

\begin_layout Plain Layout

\family typewriter
\begin_inset space \qquad{}
\end_inset

apply to: all 
\end_layout

\begin_layout Plain Layout

\family typewriter
\begin_inset space \qquad{}
\end_inset

channel activators: ['Substance A'] 
\end_layout

\begin_layout Plain Layout

\family typewriter
\begin_inset space \qquad{}
\end_inset

activator Km: [0.1] 
\end_layout

\begin_layout Plain Layout

\family typewriter
\begin_inset space \qquad{}
\end_inset

activator n: [3.0] 
\end_layout

\begin_layout Plain Layout

\family typewriter
\begin_inset space \qquad{}
\end_inset

activator zone: ['cell'] 
\end_layout

\begin_layout Plain Layout

\family typewriter
\begin_inset space \qquad{}
\end_inset

channel inhibitors: ['Substance B'] 
\end_layout

\begin_layout Plain Layout

\family typewriter
\begin_inset space \qquad{}
\end_inset

inhibitor Km: [1.5] 
\end_layout

\begin_layout Plain Layout

\family typewriter
\begin_inset space \qquad{}
\end_inset

inhibitor n: [3.0] 
\end_layout

\begin_layout Plain Layout

\family typewriter
\begin_inset space \qquad{}
\end_inset

inhibitor zone: ['cell']
\end_layout

\end_inset


\end_layout

\begin_layout Standard
Any number of custom channel code blocks (each with its own unique name)
 can be included in a BETSE network simulation.
 For details regarding custom channel definition, please see the 
\begin_inset Quotes eld
\end_inset

extra_config_template.yaml
\begin_inset Quotes erd
\end_inset

 file available in the 
\begin_inset Quotes eld
\end_inset

extra configs
\begin_inset Quotes erd
\end_inset

 folder that is created when the betse 
\series bold
\emph on
config
\series default
\emph default
 command is called.
\end_layout

\begin_layout Standard
The Custom Channels section of the config file allows you to turn on specialty
 channels that generate changes to membrane permeability of specific ions
 (e.g.
 Na +) that also occur in relation to feedback values with other simulation
 variables, such as V
\begin_inset script subscript

\begin_layout Plain Layout
mem
\end_layout

\end_inset

 .
 Most dynamic ion channel models currently available in BETSE were sourced
 from experimental data derived Hodgkin-Huxley style models sourced from
 the online database, Channelpedia:
\end_layout

\begin_layout Standard
\noindent
\align left
\begin_inset space \qquad{}
\end_inset


\begin_inset CommandInset href
LatexCommand href
target "http://channelpedia.epfl.ch/"
literal "false"

\end_inset


\end_layout

\begin_layout Standard
The type of channel is specified by defining one of the available channel
 classes, and specifying a channel type that belongs to the class, where
 available channel classes and respective types are summarized in Table
 
\begin_inset CommandInset ref
LatexCommand ref
reference "tab:Channels"
plural "false"
caps "false"
noprefix "false"

\end_inset

.
\end_layout

\begin_layout Standard
\begin_inset Float table
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="8" columns="3">
<features tabularvalignment="middle" tabularwidth="100text%">
<column alignment="left" valignment="top" width="10text%">
<column alignment="left" valignment="top" width="30text%">
<column alignment="left" valignment="top" width="30text%">
<row>
<cell alignment="left" valignment="top" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
Channel Class
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
Channel Types
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
Description
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Na
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Nav1p2, Nav1p3, NavRat1, NavRat2, Nav1p6, NaLeak
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Voltage gated and 'leak' sodium channels
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
K
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
K_Slow, K_Fast, Kv1p1, Kv1p2, Kv1p3, Kv1.4, Kv1.5, Kv1.6, Kv2p1, Kv2p2, Kv3p1,
 Kv3p2, Kv3p3, Kv3p4, Kir2p1, KLeak
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Voltage gated and 'leak' potassium channels
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Cl
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
ClLeak
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Voltage gated and 'leak' chloride channels
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Ca
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Cav1p2, Cav1p3, Cav2p1, Cav2p3, Cav3p1, Cav3p3, Cav_L2, Cav_L3, Cav_G, CaLeak
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Voltage gated and 'leak' calcium channels
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Cat
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
CatLeak, CatLeak2
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Voltage gated and 'leak' cation channels (permeable to K+, Na+ and Ca++)
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Fun
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
HCN1, HCN2, HCN4
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Hyperpolarization activated cyclic nucleotide gated channels
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
ML
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Kv_ML1, Kv_ML2, Nav_ML, Cav_L_ML, Cav_N_ML, Cav_T_ML, Kir_ML, HCN2_ML, HCN4_ML
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Various Morris-Lecar channel models
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Summary of BETSE channel 'class' and channel 'type' for available dynamic
 channels in the BETSE ion channel library.
\begin_inset CommandInset label
LatexCommand label
name "tab:Channels"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Standard
The 
\begin_inset Quotes eld
\end_inset

max Dm
\begin_inset Quotes erd
\end_inset

 field allows you to specify the maximum contribution to membrane diffusion
 coefficient for the ions that move through the channel when it is maximally
 activated/open.
\end_layout

\begin_layout Standard
In addition to intrinsic feedback of the channel's open/closed state with
 V
\begin_inset script subscript

\begin_layout Plain Layout
mem
\end_layout

\end_inset

, the channel's state may be altered by concentrations of ions or custom
 biomolecules defined in your network to produce a ligand-gated ion channel.
 These can be applied using the 'activator' and 'inhibitor' blocks, as detailed
 above.
\end_layout

\begin_layout Subsection
Custom Modulators
\end_layout

\begin_layout Standard
Custom modulators allow any of the user-defined substances to activate or
 inhibit the state of core BETSE simulation objects, such as gap junctions
 and the Na/K-ATPase pump:
\end_layout

\begin_layout Standard
\begin_inset Box Shaded
position "t"
hor_pos "c"
has_inner_box 1
inner_pos "t"
use_parbox 0
use_makebox 0
width "100col%"
special "none"
height "1in"
height_special "totalheight"
thickness "0.4pt"
separation "3pt"
shadowsize "4pt"
framecolor "black"
backgroundcolor "none"
status open

\begin_layout Plain Layout

\family typewriter
- name: GJ-block
\end_layout

\begin_layout Plain Layout

\family typewriter
\begin_inset space \qquad{}
\end_inset

target: gj 
\end_layout

\begin_layout Plain Layout

\family typewriter
\begin_inset space \qquad{}
\end_inset

max effect: 1.0 
\end_layout

\begin_layout Plain Layout

\family typewriter
\begin_inset space \qquad{}
\end_inset

activators: ['Substance A']
\end_layout

\begin_layout Plain Layout

\family typewriter
\begin_inset space \qquad{}
\end_inset

activator Km: [0.1] 
\end_layout

\begin_layout Plain Layout

\family typewriter
\begin_inset space \qquad{}
\end_inset

activator n: [3.0] 
\end_layout

\begin_layout Plain Layout

\family typewriter
\begin_inset space \qquad{}
\end_inset

activator zone: ['cell'] 
\end_layout

\begin_layout Plain Layout

\family typewriter
\begin_inset space \qquad{}
\end_inset

inhibitors: ['Substance B'] 
\end_layout

\begin_layout Plain Layout

\family typewriter
\begin_inset space \qquad{}
\end_inset

inhibitor Km: [1.5] 
\end_layout

\begin_layout Plain Layout

\family typewriter
\begin_inset space \qquad{}
\end_inset

inhibitor n: [3.0] 
\end_layout

\begin_layout Plain Layout

\family typewriter
\begin_inset space \qquad{}
\end_inset

inhibitor zone: ['cell']
\end_layout

\end_inset


\end_layout

\begin_layout Standard
Any number of custom modulator code blocks (each with its own unique name)
 can be included in a BETSE network simulation.
 For details regarding custom modulator definition, please see the 
\begin_inset Quotes eld
\end_inset

extra_config_template.yaml
\begin_inset Quotes erd
\end_inset

 file available in the 
\begin_inset Quotes eld
\end_inset

extra configs
\begin_inset Quotes erd
\end_inset

 folder that is created when the betse 
\series bold
\emph on
config
\series default
\emph default
 command is called.
\end_layout

\begin_layout Subsection
Gene Regulatory Networks
\end_layout

\begin_layout Standard
An alternative regulatory network can operate in BETSE, but which can be
 read into a BETSE configuration model file from an extra configuration
 file can be defined using the 
\begin_inset Quotes eld
\end_inset

gene regulatory network settings
\begin_inset Quotes erd
\end_inset

 fields.
 To use the gene regulatory network, set the 
\begin_inset Quotes eld
\end_inset

gene regulatory network simulated
\begin_inset Quotes erd
\end_inset

 boolean to 
\begin_inset Quotes eld
\end_inset

True
\begin_inset Quotes erd
\end_inset

 (see Figure 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:GenNet-1"

\end_inset

), and supply a path to the extra config file (which is relative to the
 main config file) using the 
\begin_inset Quotes eld
\end_inset

gene regulatory network config
\begin_inset Quotes erd
\end_inset

 field to specify a path (see Figure 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:GenNet-1"

\end_inset

).
 Definition of the regulatory network in the extra config file follows the
 exact same format as that described for the General Network described above,
 with the same blocks defining Network Optimizer, Custom Biomolecules, Custom
 Chemical Reactions, Custom Transporters, Custom Channels, and Custom Modulators
, as described above.
 A separate 
\begin_inset Quotes eld
\end_inset

gene regulatory network
\begin_inset Quotes erd
\end_inset

 might be preferred to a regulatory network embedded in the main config
 for cases where the network is very long and complex.
 
\end_layout

\begin_layout Standard
If valid paths to valid extra config files are supplied under the 
\begin_inset Quotes eld
\end_inset

gene regulatory network config
\begin_inset Quotes erd
\end_inset

 fields, the BETSE command:
\end_layout

\begin_layout Standard
\begin_inset Box Shaded
position "t"
hor_pos "c"
has_inner_box 1
inner_pos "t"
use_parbox 0
use_makebox 0
width "100col%"
special "none"
height "1in"
height_special "totalheight"
thickness "0.4pt"
separation "3pt"
shadowsize "4pt"
framecolor "black"
backgroundcolor "none"
status open

\begin_layout Plain Layout

\family typewriter
betse sim-grn my_config.yaml
\end_layout

\end_inset


\end_layout

\begin_layout Standard
can be called to test-drive the metabolism and GRN networks, respectively,
 without running the bioelectric component of the BETSE simulator.
 Note that the above call to 
\series bold
\emph on
sim-grn
\series default
\emph default
 reference the main config file (e.g.
 my_config.yaml), which in turn references the metabolism config or gene
 regulatory network config under paths specified in 
\emph on
the Gene Regulatory Network
\emph default
 banner of the main config file.
\end_layout

\begin_layout Standard
\begin_inset Box Shaded
position "t"
hor_pos "c"
has_inner_box 1
inner_pos "t"
use_parbox 0
use_makebox 0
width "100col%"
special "none"
height "1in"
height_special "totalheight"
thickness "0.4pt"
separation "3pt"
shadowsize "4pt"
framecolor "black"
backgroundcolor "none"
status open

\begin_layout Plain Layout

\family typewriter
betse plot sim-grn my_config.yaml
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename Figs/BETSE_config_pics/14_BRNandGRN.png
	lyxscale 50
	width 100text%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout

\emph on
Gene Regulatory Network
\emph default
 section of a BETSE configuration file.
\begin_inset CommandInset label
LatexCommand label
name "fig:GenNet-1"

\end_inset


\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Subsection
Network Output Tools
\end_layout

\begin_layout Standard
When simulations running any kind of custom network are plotted, BETSE automatic
ally exports a csv file with LaTeX-compatable math expressions corresponding
 to all of the growth and decay, chemical reactions, and transporter expressions
 involved in the BIGR network.
 In the Results section of the main config file, the field:
\end_layout

\begin_layout Standard
\begin_inset Box Shaded
position "t"
hor_pos "c"
has_inner_box 1
inner_pos "t"
use_parbox 0
use_makebox 0
width "100col%"
special "none"
height "1in"
height_special "totalheight"
thickness "0.4pt"
separation "3pt"
shadowsize "4pt"
framecolor "black"
backgroundcolor "none"
status open

\begin_layout Plain Layout

\family typewriter
plot networks: True 
\end_layout

\end_inset


\end_layout

\begin_layout Standard
Will create basic plots of BIGR network structure (example shown in Figure
 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Example-network-plot"

\end_inset

), if the programs networkx and pydot (optional dependencies) are installed
 on your system.
 In network plots, black arrows show paths of reaction flow, whereas blue
 edges with circular ends indicate activator relationships and red edges
 with flat ends indicate an inhibitory relationship.
 Substances and V
\begin_inset script subscript

\begin_layout Plain Layout
mem
\end_layout

\end_inset

 are indicated by elliptical shapes, reactions by square boxes, transporters
 by diamonds, and ion channels by pentagons.
\end_layout

\begin_layout Standard
Note that this feature requires installation of optional dependencies Networkx
 and Pydot to function.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename Figs/BETSE_config_pics/netplot.png
	lyxscale 40
	width 100text%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Example network plot created in BETSE.
 
\begin_inset CommandInset label
LatexCommand label
name "fig:Example-network-plot"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Subsection
Using Expression Profiles 
\begin_inset CommandInset label
LatexCommand label
name "subsec:Using-Expression-Profiles"

\end_inset


\begin_inset Note Note
status open

\begin_layout Plain Layout
update
\end_layout

\end_inset


\end_layout

\begin_layout Standard
Expression profiles allow relative levels of a biomolecule's growth, reaction
 rate, transporter maximum rate, or channel maximum diffusion constant to
 be specified for each tissue profile of a model.
 These relative levels may be obtained from experimental data (your own,
 or downloaded from databases), allowing for generation of a more realistic
 bioelectric model.
\end_layout

\begin_layout Standard
To use expression profiles, first specify an external 'expression data file'
 using the relative link under the network header, as shown in Figure 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:ExpressDataFileDefinition"
plural "false"
caps "false"
noprefix "false"

\end_inset

.
\end_layout

\begin_layout Standard
This 'expression data file' is a yaml-format file that specifies modulatory
 levels of a factor that will be applied to each tissue profile.
 For example, if in your network you define a transporter named 'H-ATPase',
 and wish to specify 'expression data' to modulate the 'max rate' of the
 transporter , then specify 'express' in the 'apply to' field of the transporter
 (see Figure 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:H-ATPaseExpress"
plural "false"
caps "false"
noprefix "false"

\end_inset

).
 Then, in the expression data file for an entry entitled 'H-ATPase', specify
 levels of activity/expression for each of the tissue profiles defined in
 your model (see Figure 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:ExpressionConfig"
plural "false"
caps "false"
noprefix "false"

\end_inset

), where the numbers will multiply the 'max rate' term of the H-ATPase for
 each tissue profile entry.
 In order to use expression data, it is important to have an entry for all
 tissue profiles defined in your model.
 
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename Figs/BETSE_config_pics/13_GeneralNetworkProperties.png
	lyxscale 50
	width 100text%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
The yaml file containing expression data is loaded from the relative path
 defined under the 'expression data file' field of the general or gene regulator
y network.
 
\begin_inset CommandInset label
LatexCommand label
name "fig:ExpressDataFileDefinition"

\end_inset


\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename Figs/NewFigs/ExprData_HKATPase_inconfig.png
	lyxscale 50
	width 100text%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Telling BETSE to read from the expression data file by setting 'apply to'
 field to 'express' for a transporter named 'H-ATPase' under the 'transporters'
 section of a regulatory network defined in a BETSE configuration file.
\begin_inset CommandInset label
LatexCommand label
name "fig:H-ATPaseExpress"

\end_inset


\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename Figs/NewFigs/ExprData_HKATPase.png
	lyxscale 50
	width 100text%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Entry in the extra configuration file detailing expression data levels for
 a transporter named 'H-ATPase'.
 The H-ATPase transporter is defined under the 'transporters' section of
 a regulatory network defined in a BETSE configuration file.
 The expression data lists expression levels for the H-ATPase transporter
 on all tissue profiles defined in the main BETSE configuration file.
 
\begin_inset CommandInset label
LatexCommand label
name "fig:ExpressionConfig"

\end_inset


\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Section
Variable Settings
\begin_inset CommandInset label
LatexCommand label
name "sec:Variable-Settings"

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename Figs/BETSE_config_pics/15_VariableSettings.png
	lyxscale 50
	width 100text%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
The 
\emph on
Variable Settings
\emph default
 section of a BETSE configuration file.
\begin_inset CommandInset label
LatexCommand label
name "fig:VariableSettings"

\end_inset


\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
The variable settings section of the config file collects a number of simulation
 parameters that can be changed at any point in an init or sim, without
 breaking synchronization between previously run BETSE output files.
\end_layout

\begin_layout Subsection
Environmental Boundary Concentrations and Temperature
\end_layout

\begin_layout Standard
The environmental boundary concentrations represent fixed concentrations
 that will be applied to the global boundaries of the environmental square
 during simulation (valid only when 
\begin_inset Quotes eld
\end_inset

simulate extracellular spaces
\begin_inset Quotes erd
\end_inset

 is True).
 The fields under 
\begin_inset Quotes eld
\end_inset

env boundary concentrations
\begin_inset Quotes erd
\end_inset

 can be deleted or commented out, which assigns environmental concentrations
 equal to those of your selected ion profile (see Figure 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:VariableSettings"

\end_inset

).
 However, when these fields are active, they allow you to respecify new
 steady-state concentration of ions in the environment.
 Note that these 
\begin_inset Quotes eld
\end_inset

env boundary concentrations
\begin_inset Quotes erd
\end_inset

 should sum to zero charge for the ions involved.
\end_layout

\begin_layout Standard
You can also specify the temperature of the world in degrees Kelvin [K].
 Note zero degrees Celsius is 273 degrees K.
\end_layout

\begin_layout Standard
\begin_inset Box Shaded
position "t"
hor_pos "c"
has_inner_box 1
inner_pos "t"
use_parbox 0
use_makebox 0
width "100col%"
special "none"
height "1in"
height_special "totalheight"
thickness "0.4pt"
separation "3pt"
shadowsize "4pt"
framecolor "black"
backgroundcolor "none"
status open

\begin_layout Plain Layout

\family typewriter
temperature: 310
\end_layout

\end_inset


\end_layout

\begin_layout Subsection
Deformations
\end_layout

\begin_layout Standard
\begin_inset Box Shaded
position "t"
hor_pos "c"
has_inner_box 1
inner_pos "t"
use_parbox 0
use_makebox 0
width "100col%"
special "none"
height "1in"
height_special "totalheight"
thickness "0.4pt"
separation "3pt"
shadowsize "4pt"
framecolor "black"
backgroundcolor "none"
status open

\begin_layout Plain Layout

\family typewriter
deformation:
\end_layout

\begin_layout Plain Layout

\family typewriter
\begin_inset space \qquad{}
\end_inset

turn on: False 
\end_layout

\begin_layout Plain Layout

\family typewriter
\begin_inset space \qquad{}
\end_inset

galvanotropism: 1.0e6 
\end_layout

\begin_layout Plain Layout

\family typewriter
\begin_inset space \qquad{}
\end_inset

viscous damping: 0.01 
\end_layout

\begin_layout Plain Layout

\family typewriter
\begin_inset space \qquad{}
\end_inset

fixed cluster boundary: True 
\end_layout

\begin_layout Plain Layout

\family typewriter
\begin_inset space \qquad{}
\end_inset

young modulus: 1.0e3 
\end_layout

\begin_layout Plain Layout

\family typewriter
\begin_inset space \qquad{}
\end_inset

time dependent deformation: False 
\end_layout

\end_inset


\end_layout

\begin_layout Subsection
Osmotic Pressure
\end_layout

\begin_layout Standard
Setting osmotic pressure to 
\begin_inset Quotes eld
\end_inset

True
\begin_inset Quotes erd
\end_inset

 enables calculation of the osmotic pressure difference between the intracellula
r and extracellular spaces using the total sum of ions inside and out of
 the cell.
\end_layout

\begin_layout Standard
\begin_inset Box Shaded
position "t"
hor_pos "c"
has_inner_box 1
inner_pos "t"
use_parbox 0
use_makebox 0
width "100col%"
special "none"
height "1in"
height_special "totalheight"
thickness "0.4pt"
separation "3pt"
shadowsize "4pt"
framecolor "black"
backgroundcolor "none"
status open

\begin_layout Plain Layout

\family typewriter
pressures:
\end_layout

\begin_layout Plain Layout

\family typewriter
\begin_inset space \qquad{}
\end_inset

include electrostatic pressure: True 
\end_layout

\begin_layout Plain Layout

\family typewriter
\begin_inset space \qquad{}
\end_inset

include osmotic pressure: False 
\end_layout

\begin_layout Plain Layout

\family typewriter
\begin_inset space \qquad{}
\end_inset

membrane water conductivity: 1e-12 
\end_layout

\end_inset


\end_layout

\begin_layout Subsection
Noise
\end_layout

\begin_layout Standard
In BETSE simulations, there are two types of noise: a constant (static)
 noise representing a variation in V
\begin_inset script subscript

\begin_layout Plain Layout
mem
\end_layout

\end_inset

 for individual cells and determined by adding a variation in the level
 of K
\begin_inset script superscript

\begin_layout Plain Layout
+
\end_layout

\end_inset

 leak channels on cell membranes, and a flickering (dynamic) noise represented
 a small random walk on V
\begin_inset script subscript

\begin_layout Plain Layout
mem
\end_layout

\end_inset

 created by slightly altering the concentration of negatively charged proteins
 in cells.
 Note that both types of noise can cause simulation instability (and consequent
 program crash with error message) and if this is the case either decrease
 the 
\begin_inset Quotes eld
\end_inset

time step
\begin_inset Quotes erd
\end_inset

 by using the 
\begin_inset Quotes eld
\end_inset

custom init
\begin_inset Quotes erd
\end_inset

 or 
\begin_inset Quotes eld
\end_inset

custom sim
\begin_inset Quotes erd
\end_inset

 time profiles in the 
\emph on
Initialization Settings
\emph default
 or 
\emph on
Simulation Settings
\emph default
 sections.
 Alternatively, try decreasing the level of noise.
 
\end_layout

\begin_layout Standard
To specify static noise, simply change the value of 
\begin_inset Quotes eld
\end_inset

static noise level
\begin_inset Quotes erd
\end_inset

 to something above 0.
 An appropriate range is 0 (all cells equivalent; no static noise) to 10.0
 (very high variation).
\end_layout

\begin_layout Standard
\begin_inset Box Shaded
position "t"
hor_pos "c"
has_inner_box 1
inner_pos "t"
use_parbox 0
use_makebox 0
width "100col%"
special "none"
height "1in"
height_special "totalheight"
thickness "0.4pt"
separation "3pt"
shadowsize "4pt"
framecolor "black"
backgroundcolor "none"
status open

\begin_layout Plain Layout

\family typewriter
static noise level: 0.5
\end_layout

\end_inset


\end_layout

\begin_layout Standard
If dynamic noise is desired, first set the 
\begin_inset Quotes eld
\end_inset

dynamic noise
\begin_inset Quotes erd
\end_inset

 field to True.
 In version 1.0, dynamic noise will only be present during the 'sim' phase
 of BETSE, and not during the 'init'.
\end_layout

\begin_layout Standard
\begin_inset Box Shaded
position "t"
hor_pos "c"
has_inner_box 1
inner_pos "t"
use_parbox 0
use_makebox 0
width "100col%"
special "none"
height "1in"
height_special "totalheight"
thickness "0.4pt"
separation "3pt"
shadowsize "4pt"
framecolor "black"
backgroundcolor "none"
status open

\begin_layout Plain Layout

\family typewriter
dynamic noise: True
\end_layout

\end_inset


\end_layout

\begin_layout Standard
Next, set the level of dynamic noise in the 
\begin_inset Quotes eld
\end_inset

dynamic noise level
\begin_inset Quotes erd
\end_inset

 field.
 This value has a big influence on the simulation, so it's best to keep
 values small.
 An appropriate range is from 0 to 1e-6.
 Note higher values may very well cause simulation instability.
 
\end_layout

\begin_layout Standard
\begin_inset Box Shaded
position "t"
hor_pos "c"
has_inner_box 1
inner_pos "t"
use_parbox 0
use_makebox 0
width "100col%"
special "none"
height "1in"
height_special "totalheight"
thickness "0.4pt"
separation "3pt"
shadowsize "4pt"
framecolor "black"
backgroundcolor "none"
status open

\begin_layout Plain Layout

\family typewriter
dynamic noise level: 1e-7
\end_layout

\end_inset


\end_layout

\begin_layout Subsection
Gap Junction Properties
\begin_inset CommandInset label
LatexCommand label
name "subsec:Gap-Junction-Properties"

\end_inset


\end_layout

\begin_layout Standard
Cells in the cluster are connected by (optionally) voltage-sensitive gap
 junctions.
\end_layout

\begin_layout Standard
The 
\begin_inset Quotes eld
\end_inset

gap junction surface area
\begin_inset Quotes erd
\end_inset

 field controls the base conductivity of the gap junctions, and is defined
 in terms of the fraction of cell membrane area that is allocated to gap
 junctions, therefore, the gap junction surface area parameter is unitless.
 Gap junctions of 1.0e
\begin_inset script superscript

\begin_layout Plain Layout
-9
\end_layout

\end_inset

 or smaller are effectively closed, 1.0e
\begin_inset script superscript

\begin_layout Plain Layout
-8
\end_layout

\end_inset

can be considered low gap junction conductivity, 1.0e
\begin_inset script superscript

\begin_layout Plain Layout
-7
\end_layout

\end_inset

 is moderate gap junction conductivity, and 1.0e
\begin_inset script superscript

\begin_layout Plain Layout
-6 
\end_layout

\end_inset

very high gap junction conductivity.
 Note that simulations using a time step of 1.0e
\begin_inset script superscript

\begin_layout Plain Layout
-2
\end_layout

\end_inset

 s can generally only handle gap junction surface areas of 1.0e
\begin_inset script superscript

\begin_layout Plain Layout
-7
\end_layout

\end_inset

 or smaller.
\end_layout

\begin_layout Standard
\begin_inset Box Shaded
position "t"
hor_pos "c"
has_inner_box 1
inner_pos "t"
use_parbox 0
use_makebox 0
width "100col%"
special "none"
height "1in"
height_special "totalheight"
thickness "0.4pt"
separation "3pt"
shadowsize "4pt"
framecolor "black"
backgroundcolor "none"
status open

\begin_layout Plain Layout

\family typewriter
gap junction surface area: 1.0e-7
\end_layout

\end_inset


\end_layout

\begin_layout Standard
Gap junctions are optionally voltage sensitive, meaning they open and close
 depending on the value of intercellular voltages.
 To set gap junctions as voltage sensitive, use the field under the gap
 junctions section of 
\emph on
World Variables
\emph default
:
\end_layout

\begin_layout Standard
\begin_inset Box Shaded
position "t"
hor_pos "c"
has_inner_box 1
inner_pos "t"
use_parbox 0
use_makebox 0
width "100col%"
special "none"
height "1in"
height_special "totalheight"
thickness "0.4pt"
separation "3pt"
shadowsize "4pt"
framecolor "black"
backgroundcolor "none"
status open

\begin_layout Plain Layout

\family typewriter
voltage sensitive gj: True
\end_layout

\end_inset


\end_layout

\begin_layout Standard
The voltage sensitivity of gap junctions has significant effects on the
 cluster's electrochemical dynamics.
 Use the 'gj voltage threshold' field to specify the cell-cell voltage at
 which the gap junctions close in volts [V].
 The suggested range is from 10e
\begin_inset script superscript

\begin_layout Plain Layout
-3
\end_layout

\end_inset

 to 50e
\begin_inset script superscript

\begin_layout Plain Layout
-3
\end_layout

\end_inset

 V.
 Note that a sigmoidal curve is used to control gap junction closure, so
 this 'gj voltage threshold' represents the voltage at which gap junctions
 are half closed.
\end_layout

\begin_layout Standard
\begin_inset Box Shaded
position "t"
hor_pos "c"
has_inner_box 1
inner_pos "t"
use_parbox 0
use_makebox 0
width "100col%"
special "none"
height "1in"
height_special "totalheight"
thickness "0.4pt"
separation "3pt"
shadowsize "4pt"
framecolor "black"
backgroundcolor "none"
status open

\begin_layout Plain Layout

\family typewriter
gj voltage threshold: 15e-3
\end_layout

\end_inset


\end_layout

\begin_layout Standard
Use the 'gj voltage window' field to specify the range over which gap junctions
 go from open to shut [V].
 The suggested window value is from 5e-3 to 40e-3.
 Since sigmoidal curves are being used to control gap junction closure,
 this window specifies how far below the threshold the gap junction begins
 to close, and how far above the threshold the gap junction becomes fully
 closed.
 
\end_layout

\begin_layout Standard
\begin_inset Box Shaded
position "t"
hor_pos "c"
has_inner_box 1
inner_pos "t"
use_parbox 0
use_makebox 0
width "100col%"
special "none"
height "1in"
height_special "totalheight"
thickness "0.4pt"
separation "3pt"
shadowsize "4pt"
framecolor "black"
backgroundcolor "none"
status open

\begin_layout Plain Layout

\family typewriter
gj voltage window: 10e-3
\end_layout

\end_inset


\end_layout

\begin_layout Subsection
Tight Junction Properties
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename Figs/FigureFodder/fig_env_diffusion_weights.png
	lyxscale 80
	width 80text%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
When simulating a full environment, BETSE automatically detects the outer
 boundary of your cell cluster and can assign different diffusion constants
 to the outer media, outer cluster boundary, and internal cells.
 This 'Logarithm of Environmental Diffusion Weigh Matrix' figure (produced
 automatically when plotting the seeded cluster when 'simulate ECM' is True)
 shows extracellular spaces of the cluster boundary to have 1e
\begin_inset script superscript

\begin_layout Plain Layout
-7
\end_layout

\end_inset

 times lower diffusion constants than free media surrounding the cluster,
 while interior cells have 1e
\begin_inset script superscript

\begin_layout Plain Layout
-2
\end_layout

\end_inset

 times lower diffusion constants than the free media.
 
\begin_inset CommandInset label
LatexCommand label
name "fig:diffWeighMatrix"

\end_inset


\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
If 
\begin_inset Quotes eld
\end_inset

simulate extracellular spaces
\begin_inset Quotes erd
\end_inset

 (see section 
\begin_inset CommandInset ref
LatexCommand ref
reference "subsec:Simulate-a-Full"

\end_inset

) is True, BETSE considers cells to have extracellular environments.
 In real tissue, cells are often joined by tight junctions or adherens junctions
, which may limit diffusion around cells to various extents.
 
\end_layout

\begin_layout Standard
If simulating a full environment, you can optionally simulate the inclusion
 of tight junctions by using the 
\begin_inset Quotes eld
\end_inset

tight junction scaling
\begin_inset Quotes erd
\end_inset

 field of the
\emph on
 Variable Settings
\emph default
 section of the config file: 
\end_layout

\begin_layout Standard
\begin_inset Box Shaded
position "t"
hor_pos "c"
has_inner_box 1
inner_pos "t"
use_parbox 0
use_makebox 0
width "100col%"
special "none"
height "1in"
height_special "totalheight"
thickness "0.4pt"
separation "3pt"
shadowsize "4pt"
framecolor "black"
backgroundcolor "none"
status open

\begin_layout Plain Layout

\family typewriter
tight junction scaling: 1.0e-5
\end_layout

\end_inset


\end_layout

\begin_layout Standard
The 
\begin_inset Quotes eld
\end_inset

tight junction scaling
\begin_inset Quotes erd
\end_inset

 factor you supply is used to multiply the free diffusion constants of all
 ions and substances included in your model, for the extracellular spaces
 of cells located at the outer boundary of the cell cluster (BETSE automatically
 detects the boundary for you, see Figure 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:diffWeighMatrix"

\end_inset

).
 
\end_layout

\begin_layout Standard
Likewise, cell-cell connections within a cluster may have other types of
 junctions (e.g.
 adherens), which may alter diffusion around cells compared to free diffusion
 in liquid.
 To include the influence of internal cell-cell connections (i.e.
 those away from the outer cluster boundary), set the 
\begin_inset Quotes eld
\end_inset

adherens junction scaling
\begin_inset Quotes erd
\end_inset

 factor:
\end_layout

\begin_layout Standard
\begin_inset Box Shaded
position "t"
hor_pos "c"
has_inner_box 1
inner_pos "t"
use_parbox 0
use_makebox 0
width "100col%"
special "none"
height "1in"
height_special "totalheight"
thickness "0.4pt"
separation "3pt"
shadowsize "4pt"
framecolor "black"
backgroundcolor "none"
status open

\begin_layout Plain Layout

\family typewriter
adherens junction scaling: 1.0e-1
\end_layout

\end_inset


\end_layout

\begin_layout Standard
To get a better idea of the difference between the cluster boundary specific
 tight junction scaling and internal adherens junction scaling effects for
 an example cluster, see Figure 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:diffWeighMatrix"

\end_inset

.
 
\end_layout

\begin_layout Standard
If you don't want to include the influence of tight junctions at the cluster
 boundary or adherens junctions for cells in the cluster, simply set the
 value of these two fields to 1.0.
 
\end_layout

\begin_layout Subsection
Comparing BETSE Vmem Output to Goldman Equation
\begin_inset CommandInset label
LatexCommand label
name "subsec:CompareGoldman"

\end_inset


\end_layout

\begin_layout Standard
The Goldman equation is renowned for its ability to predict steady-state
 membrane potential given the ideal gas constant (R), temperature in Kelvin
 (T), the Faraday constant (F), membrane permeabilities for all cations
 (P
\begin_inset script subscript

\begin_layout Plain Layout
M
\end_layout

\end_inset

), membrane permeabilities for all ions (P
\begin_inset script subscript

\begin_layout Plain Layout
A
\end_layout

\end_inset

), and the concentration of cations and anions inside and outside of a cell
 (M
\begin_inset script subscript

\begin_layout Plain Layout
in
\end_layout

\end_inset

, M
\begin_inset script subscript

\begin_layout Plain Layout
in
\end_layout

\end_inset

 and A
\begin_inset script subscript

\begin_layout Plain Layout
in
\end_layout

\end_inset

, A
\begin_inset script subscript

\begin_layout Plain Layout
out
\end_layout

\end_inset

, respectively): 
\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{equation}
V_{mem}=\frac{R\,T}{F}\,ln\left(\frac{\sum P_{M}\,M_{out}+\sum P_{A}\,A_{in}}{\sum P_{M}\,M_{in}+\sum P_{A}\,A_{out}}\right)
\end{equation}

\end_inset


\end_layout

\begin_layout Standard
BETSE now has an option allowing you to use the Goldman equation to calculate
 an alternative value of V
\begin_inset script subscript

\begin_layout Plain Layout
mem
\end_layout

\end_inset

 from a simulation's parameters, for validation and comparison purposes.
 
\end_layout

\begin_layout Standard
\begin_inset Box Shaded
position "t"
hor_pos "c"
has_inner_box 1
inner_pos "t"
use_parbox 0
use_makebox 0
width "100col%"
special "none"
height "1in"
height_special "totalheight"
thickness "0.4pt"
separation "3pt"
shadowsize "4pt"
framecolor "black"
backgroundcolor "none"
status open

\begin_layout Plain Layout

\family typewriter
use Goldman calculator: True
\end_layout

\end_inset


\end_layout

\begin_layout Standard
For simulations that do not limit extracellular diffusion via tight and
 adherens junctions and which do not have high values of gap junction surface
 area (aspects not accounted for by the Goldman equation), BETSE V
\begin_inset script subscript

\begin_layout Plain Layout
mem
\end_layout

\end_inset

 compares directly (less than 1% discrepancy) to V
\begin_inset script subscript

\begin_layout Plain Layout
mem
\end_layout

\end_inset

 obtained from the Goldman equation (Table 
\begin_inset CommandInset ref
LatexCommand ref
reference "tab:Comparison-between-Vmem"

\end_inset

).
 
\end_layout

\begin_layout Standard
\begin_inset Float table
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="6" columns="6">
<features tabularvalignment="middle">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
P
\begin_inset script subscript

\begin_layout Plain Layout
m
\end_layout

\end_inset

 Na
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
P
\begin_inset script subscript

\begin_layout Plain Layout
m
\end_layout

\end_inset

 K
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
P
\begin_inset script subscript

\begin_layout Plain Layout
m
\end_layout

\end_inset

 Cl
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
ext K [mmol/L]
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
V
\begin_inset script subscript

\begin_layout Plain Layout
mem
\end_layout

\end_inset

 BETSE [mV]
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
V
\begin_inset script subscript

\begin_layout Plain Layout
mem
\end_layout

\end_inset

 Goldman [mV]
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
1
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
200
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
20
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
5
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
-84.298
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
-84.252
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
1
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
100
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
20
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
5
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
-81.842
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
-81.833
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
1
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
100
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
20
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
35
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
-36.801
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
-36.237
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
1
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
15
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
2
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
5
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
-61.418
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
-61.304
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
10
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
1
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
1
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
5
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
36.097
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
36.601
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Comparison between Vmem obtained from BETSE and from Goldman Equation for
 a range of different membrane permeability profiles and environmental potassium
 concentration.
 Membrane permeability (P
\begin_inset script subscript

\begin_layout Plain Layout
m
\end_layout

\end_inset

) are relative ratios and are therefore unit-less.
 
\begin_inset CommandInset label
LatexCommand label
name "tab:Comparison-between-Vmem"

\end_inset


\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Section
Results Output and Visualization
\begin_inset CommandInset label
LatexCommand label
name "sec:Results-Output-and"

\end_inset


\end_layout

\begin_layout Standard
The 
\emph on
Results
\emph default
 section of the configuration file (Figure 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:The-Results-section"

\end_inset

) allows you to specify what kind of plots, animations and raw data exports
 you want, whether you want to automatically save images, and where you
 want to save all of this information on your computer.
 The initial portion of the results section allows you to specify whether
 you wish to see plots while solving, if you wish to see plots when an init
 or sim finishes, or if you simply want plots to be saved to disk.
 Settings for animations are also found in the first portion of the Results
 section.
 Please see the default BETSE configuration file for annotated details on
 each field.
 
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename Figs/BETSE_config_pics/21_Results_a.png
	lyxscale 50
	width 100text%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
The 
\emph on
Results
\emph default
 section of a BETSE configuration file.
\begin_inset CommandInset label
LatexCommand label
name "fig:The-Results-section"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Standard
In BETSE, each cell is indexed by a number.
 Every time an initialization is run and a new world created, the numbering
 scheme changes.
 To see what number corresponds to what cell in the cluster, set the 'enumerate
 cells' field to True.
 In the absence of an interactive GUI, this can help you decide which cell
 you are interested in getting specific data on (for single cell graphs
 plotted over time) or to target with a scheduled intervention.
 A warning that 'enumerate cells' should not be used for world sizes over
 200 um as there are far too many cells to resolve the numbers.
\end_layout

\begin_layout Standard
\begin_inset Box Shaded
position "t"
hor_pos "c"
has_inner_box 1
inner_pos "t"
use_parbox 0
use_makebox 0
width "100col%"
special "none"
height "1in"
height_special "totalheight"
thickness "0.4pt"
separation "3pt"
shadowsize "4pt"
framecolor "black"
backgroundcolor "none"
status open

\begin_layout Plain Layout

\family typewriter
enumerate cells: True
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename Figs/FigureFodder/vm_54_Enumerate_True
	lyxscale 50
	width 60text%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
The enumerate cells option puts the cell index on the plot so you can identify
 individual cells.
 
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
To tell BETSE what cell you're interesting in plotting (single cell graphs)
 and exporting single-cell data, specify a cell index in the 'plot cell
 index' field (note this must be an integer).
 
\end_layout

\begin_layout Standard
\begin_inset Box Shaded
position "t"
hor_pos "c"
has_inner_box 1
inner_pos "t"
use_parbox 0
use_makebox 0
width "100col%"
special "none"
height "1in"
height_special "totalheight"
thickness "0.4pt"
separation "3pt"
shadowsize "4pt"
framecolor "black"
backgroundcolor "none"
status open

\begin_layout Plain Layout

\family typewriter
plot cell index: 5
\end_layout

\end_inset


\end_layout

\begin_layout Standard
BETSE exports different kinds of plots, which have been categorized as:
\end_layout

\begin_layout Itemize

\series bold
plot while solving
\series default
 — a plot of Vmem that is displayed or saved while your simulation runs
 (can be disabled using commands under 'while solving').
 These are plotted on the 'plot cell index'.
\end_layout

\begin_layout Itemize

\series bold
after solving single cell plots
\series default
 — list of possible line-graph plots showing a parameter in a single cell
 over time (e.g.
 see Figure 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:singlecellgraph"
plural "false"
caps "false"
noprefix "false"

\end_inset

)
\end_layout

\begin_layout Itemize

\series bold
after solving cluster plots
\series default
 — list of possible cell cluster plots showing a parameter over the entire
 cell cluster at last time-step (e.g.
 see Figure 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:showcells"
plural "false"
caps "false"
noprefix "false"

\end_inset

)
\end_layout

\begin_layout Itemize

\series bold
after solving animations
\series default
 — list of possible cell cluster animations showing a parameter over the
 entire cell cluster at each sampled time-step
\end_layout

\begin_layout Standard
Each of the above categories contains named plots that can be added to the
 list of plots that will be displayed and/or saved to disk when you run
 the 
\emph on
plot init
\emph default
 or 
\emph on
plot sim
\emph default
 commands.
 The list of available plots can be found in BETSE's default configuration
 file.
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename Figs/FigureFodder/fig_Vmem_time
	lyxscale 20
	width 60text%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
An example of cell Vmem plotted for cell index 5 in the cluster
\begin_inset CommandInset label
LatexCommand label
name "fig:singlecellgraph"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Standard
BETSE allows you to have two main ways to display your 2D data: you can
 represent it as a color-value with each cell drawn as a discrete object
 (Figure 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:showcells"

\end_inset

, left) or you can interpolate the data value from the center of each cell
 and produce a smoothed representation (Figure 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:showcells"

\end_inset

, right).
 The interpolated option is particularly convenient (and faster to plot)
 for large cluster sizes (> 500 um) with many thousand cells.
 To plot discrete cells set the 'show cells' field to True, to plot interpolated
 data surfaces set this field to False.
\end_layout

\begin_layout Standard
\begin_inset Box Shaded
position "t"
hor_pos "c"
has_inner_box 1
inner_pos "t"
use_parbox 0
use_makebox 0
width "100col%"
special "none"
height "1in"
height_special "totalheight"
thickness "0.4pt"
separation "3pt"
shadowsize "4pt"
framecolor "black"
backgroundcolor "none"
status open

\begin_layout Plain Layout

\family typewriter
show cells: True
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename Figs/FigureFodder/vm_82_ShowCellsOnOffFigure.png
	lyxscale 50
	width 100text%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
An example of 'show cells' being True (left image) versus False (right image)
\begin_inset CommandInset label
LatexCommand label
name "fig:showcells"

\end_inset


\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
If you wish to create a streamline plot of currents as an overlay on all
 of your plots and animations, choose the:
\end_layout

\begin_layout Standard
\begin_inset Box Shaded
position "t"
hor_pos "c"
has_inner_box 1
inner_pos "t"
use_parbox 0
use_makebox 0
width "100col%"
special "none"
height "1in"
height_special "totalheight"
thickness "0.4pt"
separation "3pt"
shadowsize "4pt"
framecolor "black"
backgroundcolor "none"
status open

\begin_layout Plain Layout

\family typewriter
overlay currents: True
\end_layout

\end_inset


\end_layout

\begin_layout Standard
Set the density of streamlines shown in these overlays using the option:
\end_layout

\begin_layout Standard
\begin_inset Box Shaded
position "t"
hor_pos "c"
has_inner_box 1
inner_pos "t"
use_parbox 0
use_makebox 0
width "100col%"
special "none"
height "1in"
height_special "totalheight"
thickness "0.4pt"
separation "3pt"
shadowsize "4pt"
framecolor "black"
backgroundcolor "none"
status open

\begin_layout Plain Layout

\family typewriter
streamline density: 2.0
\end_layout

\end_inset


\end_layout

\begin_layout Standard
And if simulating a full environment, specify whether you want total extracellul
ar current (True) or intracellular current (False) to be plotted in a current
 overlay:
\end_layout

\begin_layout Standard
\begin_inset Box Shaded
position "t"
hor_pos "c"
has_inner_box 1
inner_pos "t"
use_parbox 0
use_makebox 0
width "100col%"
special "none"
height "1in"
height_special "totalheight"
thickness "0.4pt"
separation "3pt"
shadowsize "4pt"
framecolor "black"
backgroundcolor "none"
status open

\begin_layout Plain Layout

\family typewriter
plot total current: True
\end_layout

\end_inset


\end_layout

\begin_layout Standard
Each plot or animation has settings allowing you to specify whether the
 plot appears (plot Vmem: True), if the color legend representing data values
 should be automatically scaled to the minimum and maximum values of the
 data set obtained in the simulation ('autoscale colorbar: True') or if
 you would like to supply your own minimum and maximum color legend limits
 ('autoscale colorbar: False').
 State the desired maximum and minimum values in the subsequent fields for
 the plot of interest:
\end_layout

\begin_layout Standard
\begin_inset Box Shaded
position "t"
hor_pos "c"
has_inner_box 1
inner_pos "t"
use_parbox 0
use_makebox 0
width "100col%"
special "none"
height "1in"
height_special "totalheight"
thickness "0.4pt"
separation "3pt"
shadowsize "4pt"
framecolor "black"
backgroundcolor "none"
status open

\begin_layout Plain Layout

\family typewriter
Vmem 2D:
\end_layout

\begin_layout Plain Layout

\family typewriter
\begin_inset space \qquad{}
\end_inset

plot Vmem: True
\end_layout

\begin_layout Plain Layout

\family typewriter
\begin_inset space \qquad{}
\end_inset

autoscale colorbar: False 
\end_layout

\begin_layout Plain Layout

\family typewriter
\begin_inset space \qquad{}
\end_inset

max val: 80.0
\end_layout

\begin_layout Plain Layout

\family typewriter
\begin_inset space \qquad{}
\end_inset

min val: -80.0 
\end_layout

\end_inset


\end_layout

\begin_layout Standard
To get more control over the appearance of your plots you can change the
 colormap.
 A wide variety of colormaps are available to you, please see the Appendix
 (section 
\begin_inset CommandInset ref
LatexCommand ref
reference "sec:Appendix"

\end_inset

), subsection 
\begin_inset CommandInset ref
LatexCommand ref
reference "subsec:Available-Colormaps"

\end_inset

 for all of the options.
 The 'default colormap' field specifies the colormap used to plot cell-specific
 data.
 The 'gj colormap' is the one used to color gap junctions connecting cells.
 To change the default or gj colormap, simply type in the name of one of
 the available colormaps (it is case-sensitive and must be written exactly
 as displayed in the examples) into the 'default colormap' or 'gj colormap'
 field of the configuration file.
 To reverse the color-scheme, simply add on a '_r' to the end of the colormap
 name.
 If you misspell a colormap, BETSE will crash with an appropriate error
 message.
\end_layout

\begin_layout Standard
Using the 'rainbow' colormap:
\end_layout

\begin_layout Standard
\begin_inset Box Shaded
position "t"
hor_pos "c"
has_inner_box 1
inner_pos "t"
use_parbox 0
use_makebox 0
width "100col%"
special "none"
height "1in"
height_special "totalheight"
thickness "0.4pt"
separation "3pt"
shadowsize "4pt"
framecolor "black"
backgroundcolor "none"
status open

\begin_layout Plain Layout

\family typewriter
default colormap: rainbow
\end_layout

\end_inset


\end_layout

\begin_layout Standard
Reversing the 'Blues' colormap by adding a '_r' to the end:
\end_layout

\begin_layout Standard
\begin_inset Box Shaded
position "t"
hor_pos "c"
has_inner_box 1
inner_pos "t"
use_parbox 0
use_makebox 0
width "100col%"
special "none"
height "1in"
height_special "totalheight"
thickness "0.4pt"
separation "3pt"
shadowsize "4pt"
framecolor "black"
backgroundcolor "none"
status open

\begin_layout Plain Layout

\family typewriter
gj colormap: Blues_r
\end_layout

\end_inset


\end_layout

\begin_layout Standard
It should be noted that there is a quirk to the color-bar scale, which appears
 whenever there is very little variation between elements of the 2D image
 (see Figure 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Color-bar-rescales-to"

\end_inset

).
 To get rid of this effect, please set the 'autoscale colorbar' field of
 the figure to False.
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename Figs/FigureFodder/Confusing_scalebar_example.png
	lyxscale 80
	width 80text%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Color-bar rescales to confusing units when there is very little variation
 between elements of the 2D map.
\begin_inset CommandInset label
LatexCommand label
name "fig:Color-bar-rescales-to"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Section
Internal Use Only Parameters
\begin_inset CommandInset label
LatexCommand label
name "sec:Editing-Internal-Parameters"

\end_inset


\end_layout

\begin_layout Standard
The parameters listed under the 
\emph on
Internal Use Only
\emph default
 section of the configuration file are either well-known reference values
 (e.g.
 the free diffusion constants of ions in aqueous media), the result of many
 hours of trial-and-error during development to find suitable parameters,
 or factors allowing certain 
\begin_inset Quotes eld
\end_inset

specialty
\begin_inset Quotes erd
\end_inset

 or trial features to be easily turned on/off.
 Therefore, while altering these parameters may be exactly what you need
 to do to produce realistic output, keep in mind that doing so may create
 simulation instability (with ensuing BETSE crashes and error messages)
 or non-realistic output.
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename Figs/BETSE_config_pics/25_IUO_a.png
	lyxscale 80
	width 100text%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Internal use only parameters.
\begin_inset CommandInset label
LatexCommand label
name "fig:InternalUseOnly"

\end_inset


\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Of particular importance are the maximum rates of BETSE's default ion pumps
 — these can be altered or turned off completely depending on your needs.:
\end_layout

\begin_layout Standard
\begin_inset Box Shaded
position "t"
hor_pos "c"
has_inner_box 1
inner_pos "t"
use_parbox 0
use_makebox 0
width "100col%"
special "none"
height "1in"
height_special "totalheight"
thickness "0.4pt"
separation "3pt"
shadowsize "4pt"
framecolor "black"
backgroundcolor "none"
status open

\begin_layout Plain Layout

\family typewriter
alpha_NaK: 1.0e-7
\end_layout

\begin_layout Plain Layout

\family typewriter
alpha_Ca: 1.0e-7
\end_layout

\end_inset


\end_layout

\begin_layout Standard
If the field:
\end_layout

\begin_layout Standard
\begin_inset Box Shaded
position "t"
hor_pos "c"
has_inner_box 1
inner_pos "t"
use_parbox 0
use_makebox 0
width "100col%"
special "none"
height "1in"
height_special "totalheight"
thickness "0.4pt"
separation "3pt"
shadowsize "4pt"
framecolor "black"
backgroundcolor "none"
status collapsed

\begin_layout Plain Layout

\family typewriter
substances affect Vmem: True
\end_layout

\end_inset


\end_layout

\begin_layout Standard
Is true, all substances defined in 
\begin_inset Quotes eld
\end_inset

Custom Biomolecules
\begin_inset Quotes erd
\end_inset

 section of the network config file will affect the charge state of the
 cell (and therefore Vmem).
 Set this value to False if you wish to simulate a GRN that does not impact
 Vmem or other bioelectrical parameters.
\end_layout

\begin_layout Standard
Other parameters are described in the config file and should not need to
 be altered under normal use.
\end_layout

\begin_layout Section
About BETSE
\begin_inset CommandInset label
LatexCommand label
name "sec:About-BETSE"

\end_inset


\end_layout

\begin_layout Standard
BETSE was designed and developed by Alexis Pietak and Cecil Curry for the
 Levin Lab at Tuft's University, and we are grateful for funding support
 from the Paul Allen Discovery Award from the Paul G.
 Allen Frontiers Group.
\end_layout

\begin_layout Standard
Cecil (Brian) Curry is a software engineer and avid advocate and contributor
 to the open source software movement.
 Cecil is a computer science graduate of California Polytechnic State University
 in San Luis Obispo, and has worked as a software engineer/architect at
 
\emph on
Apple
\emph default
, on 
\emph on
Wall Street
\emph default
, and at a Silicon Valley start-up.
 Cecil has contributed invaluably to BETSE by identifying the suit of open-sourc
e tools used to facilitate BETSE development, by implementing the command
 line interface (and other system-level tools), and with his tireless pursuit
 of cross-platform portable BETSE executables.
\end_layout

\begin_layout Standard
Alexis Pietak is a multi-disciplinary scientist with training in physics,
 biochemistry, engineering, and biomedical fields.
 Alexis received her PhD in physics from Queen's University in Kingston,
 and has worked as a researcher at universities in New Zealand and Canada.
 Alexis is currently a member of the Allen Discovery Center at Tufts University,
 and devotes all of her time to BETSE development and associated research.
 Alexis first became interested in bio-electrochemical phenomena and their
 implied role in biological pattern formation after becoming aware of Dr
 Levin's research in 2008.
 In 2013, Alexis set out to create an efficient, flexible, and bio-realistic
 model that would help explore bio-electrochemical phenomena in the context
 of spatio-temporal pattern formation, which eventually grew into the BETSE
 project.
 
\end_layout

\begin_layout Standard
BETSE relies heavily on open-source software tools developed for scientific
 computing, for which special mention and thanks goes out to:
\end_layout

\begin_layout Itemize
NumPy 
\begin_inset space \qquad{}
\end_inset


\emph on
the fundamental package for scientific computing in Python, especially essential
 for matrix math
\end_layout

\begin_layout Itemize
SciPy Library
\begin_inset space \qquad{}
\end_inset


\emph on
a suite of additional tools for scientific computing in Python
\end_layout

\begin_layout Itemize
MatplotLib
\begin_inset space \qquad{}
\end_inset


\emph on
a suite of plotting tools for data visualization
\emph default
 
\end_layout

\begin_layout Itemize
IPython
\begin_inset space \qquad{}
\end_inset


\emph on
an advanced interactive console used extensively in BETSE development
\end_layout

\begin_layout Standard
You can contact Alexis at: alexis.pietak@gmail.com and Cecil at leycec@gmail.com.
\end_layout

\begin_layout Section
Appendix
\begin_inset CommandInset label
LatexCommand label
name "sec:Appendix"

\end_inset


\end_layout

\begin_layout Subsection
Available Colormaps
\begin_inset CommandInset label
LatexCommand label
name "subsec:Available-Colormaps"

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename Figs/FigureFodder/colormaps_reference_00.png
	width 75text%

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename Figs/FigureFodder/colormaps_reference_01.png
	width 75text%

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename Figs/FigureFodder/colormaps_reference_02.png
	width 75text%

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename Figs/FigureFodder/colormaps_reference_03.png
	width 75text%

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\noindent
\align center
\begin_inset Graphics
	filename Figs/FigureFodder/colormaps_reference_04.png
	width 75text%

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\end_body
\end_document
